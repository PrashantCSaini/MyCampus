(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"13Ib":function(e,t,r){"use strict";r.r(t),r.d(t,"AdminModule",function(){return he});var s=r("tyNb"),o=r("fXoL"),c=r("Ug1E"),i=r("b1Ni"),n=r("7zfz"),a=r("fqaE"),l=r("jIHw"),u=r("Q4Mo"),b=r("+F6F");function p(e,t){1&e&&o.Jb(0,"img",3)}function d(e,t){if(1&e){const e=o.Pb();o.Jb(0,"i",4),o.Ob(1,"button",5),o.Vb("click",function(){return o.oc(e),o.Xb().logout()}),o.Nb(),o.Jb(2,"p-avatar",6)}}let h=(()=>{class e{constructor(e){this.auth=e}ngOnInit(){this.items=[{label:"Dashboard",icon:"pi pi-fw pi-chart-bar",routerLink:["dashboard"]},{label:"Add User",icon:"pi pi-fw pi-plus",items:[{label:"Login",icon:"pi pi-fw pi-user-plus",routerLink:["create-user-login"]},{label:"Faculty",icon:"pi pi-fw pi-users",routerLink:["create-faculty"]},{label:"Student",icon:"pi pi-fw pi-users",routerLink:["create-student"]},{label:"Parent",icon:"pi pi-fw pi-users",routerLink:["create-parent"]}]},{label:"Add Courses",icon:"pi pi-fw pi-plus",items:[{label:"Course",icon:"pi pi-fw pi-book",routerLink:["create-course"]},{label:"Subject",icon:"pi pi-fw pi-book",routerLink:["create-subject"]}]},{label:"Fee Details",icon:"pi pi-fw pi-money-bill",routerLink:["fee-detail"]}]}logout(){this.auth.logoutUser()}}return e.\u0275fac=function(t){return new(t||e)(o.Ib(c.a))},e.\u0275cmp=o.Cb({type:e,selectors:[["app-home"]],decls:4,vars:1,consts:[[3,"model"],["pTemplate","start"],["pTemplate","end"],["src","https://primefaces.org/primeng/showcase/assets/showcase/images/primeng.svg","height","40",1,"p-mr-2"],["pBadge","",1,"pi","pi-bell","p-mr-4","p-text-secondary",2,"font-size","20px"],["pButton","","type","button","label","Logout","icon","pi pi-sign-out","pRipple","",1,"p-button-text","p-button-help",3,"click"],["label","A","shape","circle","icon","p-avatar-icon",1,"p-ml-2"]],template:function(e,t){1&e&&(o.Ob(0,"p-menubar",0),o.vc(1,p,1,0,"ng-template",1),o.vc(2,d,3,0,"ng-template",2),o.Nb(),o.Jb(3,"router-outlet")),2&e&&o.cc("model",t.items)},directives:[i.a,n.i,s.e,a.a,l.a,u.a,b.a],styles:[".p-menu[_ngcontent-%COMP%]{border-color:#fff}"]}),e})();var m=r("7kUa");let f=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Cb({type:e,selectors:[["app-create-student"]],decls:2,vars:0,consts:[["type","text","pInputText",""]],template:function(e,t){1&e&&(o.Jb(0,"br"),o.Jb(1,"input",0))},directives:[m.a],styles:[""]}),e})(),g=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Cb({type:e,selectors:[["app-dashboard"]],decls:3,vars:0,template:function(e,t){1&e&&(o.Jb(0,"br"),o.Ob(1,"h1"),o.xc(2,"Admin Dashboard"),o.Nb())},styles:[""]}),e})();var x=r("3Pt+"),C=r("tk/3"),N=r("z6cu"),y=r("oEQO");let O=(()=>{class e{constructor(e){this._httpClient=e}getCourse(){return this._httpClient.get(`${y.a.BASE_URL}${y.a.COURSE}`)}addCourse(e){return this._httpClient.post(`${y.a.BASE_URL}${y.a.COURSE}`,e)}deleteCourse(e){return this._httpClient.delete(`${y.a.BASE_URL}${y.a.COURSE}/${e}`)}getCourseById(e){return this._httpClient.get(`${y.a.BASE_URL}${y.a.COURSE}/${e}`)}updateCourse(e){return this._httpClient.put(`${y.a.BASE_URL}${y.a.COURSE}`,e)}handleError(e){return e.error instanceof ErrorEvent?console.error("Client side error: "+e.error.message):console.error("Server side error : "+e.status+" "+e.error),Object(N.a)("This is a problem with the service. We are notified and working on it. Please try again later.")}}return e.\u0275fac=function(t){return new(t||e)(o.Sb(C.b))},e.\u0275prov=o.Eb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var v=r("QIUk"),S=r("ofXK"),I=r("rEr+"),k=r("Gxio"),j=r("Nf9I"),E=r("jeV5");function M(e,t){if(1&e&&(o.Ob(0,"small",21),o.xc(1),o.Nb()),2&e){const e=o.Xb();o.xb(1),o.zc(" ",e.formErrors.courseName,"")}}function T(e,t){if(1&e&&(o.Ob(0,"small",22),o.xc(1),o.Nb()),2&e){const e=o.Xb();o.xb(1),o.zc(" ",e.formErrors.courseFee," ")}}function w(e,t){if(1&e){const e=o.Pb();o.Ob(0,"div",23),o.Ob(1,"h5",24),o.xc(2,"Manage Courses"),o.Nb(),o.Ob(3,"span",25),o.Jb(4,"i",26),o.Ob(5,"input",27),o.Vb("input",function(t){return o.oc(e),o.Xb(),o.nc(21).filterGlobal(t.target.value,"contains")}),o.Nb(),o.Nb(),o.Nb()}}function F(e,t){1&e&&(o.Ob(0,"colgroup"),o.Jb(1,"col",28),o.Jb(2,"col",28),o.Jb(3,"col",29),o.Jb(4,"col",30),o.Nb())}function B(e,t){1&e&&(o.Ob(0,"tr"),o.Ob(1,"th"),o.xc(2,"Action"),o.Nb(),o.Ob(3,"th",31),o.xc(4,"Id"),o.Jb(5,"p-sortIcon",32),o.Nb(),o.Ob(6,"th",33),o.xc(7,"Course Name"),o.Jb(8,"p-sortIcon",34),o.Nb(),o.Ob(9,"th",35),o.xc(10,"Course Fee"),o.Jb(11,"p-sortIcon",36),o.Nb(),o.Nb())}function J(e,t){if(1&e){const e=o.Pb();o.Ob(0,"tr"),o.Ob(1,"td"),o.Ob(2,"Button",37),o.Vb("click",function(){o.oc(e);const r=t.$implicit;return o.Xb().editButtonClick(r.CourseId)}),o.Nb(),o.Ob(3,"Button",38),o.Vb("click",function(){o.oc(e);const r=t.$implicit;return o.Xb().confirm(r.CourseId)}),o.Nb(),o.Nb(),o.Ob(4,"td"),o.xc(5),o.Nb(),o.Ob(6,"td"),o.xc(7),o.Nb(),o.Ob(8,"td"),o.xc(9),o.Nb(),o.Nb()}if(2&e){const e=t.$implicit;o.xb(5),o.yc(e.CourseId),o.xb(2),o.yc(e.CourseName),o.xb(2),o.yc(e.CourseFee)}}function P(e,t){1&e&&(o.Ob(0,"tr"),o.Ob(1,"td"),o.Jb(2,"p-skeleton"),o.Nb(),o.Ob(3,"td"),o.Jb(4,"p-skeleton"),o.Nb(),o.Ob(5,"td"),o.Jb(6,"p-skeleton"),o.Nb(),o.Ob(7,"td"),o.Jb(8,"p-skeleton"),o.Nb(),o.Nb())}const V=function(){return[0,1,2,3,4]};function _(e,t){1&e&&o.vc(0,P,9,0,"tr",39),2&e&&o.cc("ngForOf",o.ec(1,V))}function A(e,t){1&e&&(o.Ob(0,"tr"),o.Ob(1,"td",40),o.xc(2,"No course found."),o.Nb(),o.Nb())}const $=function(){return{width:"auto"}},U=function(e){return{"ng-invalid ng-dirty":e}},R=function(){return["CourseId","CourseName","CourseFee"]};let L=(()=>{class e{constructor(e,t,r,s,o,c){this.courseService=e,this.primengConfig=t,this.fb=r,this.messageService=s,this._router=o,this.confirmationService=c,this.pageTitle="Add Course",this.submitButtonText="Add Course",this.icon="pi pi-plus",this.isDisplayCancelButton=!1,this.loadingIcon="pi pi-check-circle",this.validationMessages={courseName:{required:"Course Name is required",minlength:"Course Name must be greater than 2 characters",maxlength:"Course Name must bes less than 20 character"},courseFee:{required:"Course Fee is required"}},this.formErrors={courseName:"",courseFee:""}}ngOnInit(){this.courseForm=this.fb.group({courseName:["",[x.n.required,x.n.minLength(3),x.n.maxLength(20)]],courseFee:["",x.n.required]}),this.courseForm.valueChanges.subscribe(e=>{this.logValidationErrors(this.courseForm)}),this.primengConfig.ripple=!0,this.getCourse(),this.course={CourseId:0,CourseName:"",CourseFee:null}}logValidationErrors(e=this.courseForm){Object.keys(e.controls).forEach(t=>{const r=e.get(t);if(r instanceof x.d)this.logValidationErrors(r);else if(this.formErrors[t]="",r&&!r.valid&&(r.touched||r.dirty)){const e=this.validationMessages[t];for(const s in r.errors)s&&(this.formErrors[t]+=e[s]+" ")}})}getCourse(){this.courseService.getCourse().subscribe(e=>this.courselist=e,e=>{e instanceof C.d&&401===e.status&&(localStorage.removeItem("token"),this._router.navigate(["/auth"]))})}onSubmit(){this.loadingIcon="pi pi-spin pi-spinner",this.mapFormValueToCourseModel(),0!==this.course.CourseId?(this.courseService.updateCourse(this.course).subscribe(e=>{this.showSuccess("Course updated successfully"),this.courseForm.reset(),this.pageTitle="Add Course",this.submitButtonText="Add Course",this.isDisplayCancelButton=!1,this.getCourse()},e=>{console.error(e),this.showError("Error while updating course")}),this.course.CourseId=0):(this.courseService.addCourse(this.course).subscribe(e=>{this.showSuccess("Course added successfully"),this.courseForm.reset(),this.getCourse()},e=>{this.showError("Error while adding course")}),this.course.CourseId=0),this.loadingIcon="pi pi-check-circle"}editButtonClick(e){this.courseService.getCourseById(e).subscribe(e=>{this.course=e,this.pageTitle="Edit Course",this.submitButtonText="Update Course",this.icon="pi pi-pencil",this.isDisplayCancelButton=!0,this.editCourse(e)},e=>console.log(e))}editCourse(e){this.courseForm.patchValue({courseName:e.CourseName,courseFee:e.CourseFee})}mapFormValueToCourseModel(){this.course.CourseName=this.courseForm.value.courseName,this.course.CourseFee=this.courseForm.value.courseFee}deleteCourse(e){this.courseService.deleteCourse(e).subscribe(e=>{console.log("Message : "+e),this.showSuccess("Course deleted successfully"),this.getCourse()},e=>{console.log(e),this.showError("Error while deleting course")})}showSuccess(e){this.messageService.add({severity:"success",summary:"Success",detail:e})}showError(e){this.messageService.add({severity:"error",summary:"Error",detail:e})}clear(){this.messageService.clear()}confirm(e){this.confirmationService.confirm({message:"Do you want to delete this record?",accept:()=>{this.deleteCourse(e)}})}onCancelButtonClick(){this.courseForm.reset(),this.pageTitle="Add Course",this.submitButtonText="Add Course",this.isDisplayCancelButton=!1,this.icon="pi pi-plus",this.course.CourseId=0}}return e.\u0275fac=function(t){return new(t||e)(o.Ib(O),o.Ib(n.h),o.Ib(x.b),o.Ib(n.g),o.Ib(s.a),o.Ib(n.a))},e.\u0275cmp=o.Cb({type:e,selectors:[["app-create-course"]],decls:30,vars:24,consts:[[1,"p-m-5"],[2,"font-size","18px","font-weight","bold","margin-right","5px"],[3,"formGroup","ngSubmit"],[1,"p-field"],["for","courseName"],["id","courseName","type","text","aria-describedby","courseName-help","autocomplete","off","pInputText","","formControlName","courseName",1,"p-inputtext-sm",3,"ngClass","blur"],["id","courseName-help","class","p-error",4,"ngIf"],["for","courseFee"],["id","courseFee","type","number","aria-describedby","courseFee-help","autocomplete","off","min","0","pInputText","","formControlName","courseFee",1,"p-inputtext-sm",3,"ngClass","blur"],["id","courseFee-help","class","p-error",4,"ngIf"],["pButton","","type","submit","pRipple","",1,"p-button","p-mr-4",3,"label","disabled","icon"],["pButton","","pRipple","","type","button","label","Cancel","icon","pi pi-times",1,"p-button-secondary",3,"click"],["styleClass","p-datatable-sm p-datatable-striped","sortMode","multiple","dataKey","id","scrollHeight","400px","selectionMode","single",3,"value","scrollable","globalFilterFields"],["dt1",""],["pTemplate","caption"],["pTemplate","colgroup"],["pTemplate","header"],["pTemplate","body"],["pTemplate","loadingbody"],["pTemplate","emptymessage"],["header","Confirmation","icon","pi pi-exclamation-triangle"],["id","courseName-help",1,"p-error"],["id","courseFee-help",1,"p-error"],[1,"p-d-flex","p-ai-center","p-jc-between"],[1,"p-m-0"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"],[2,"width","100px"],[2,"width","200px"],[2,"width","150px"],["pSortableColumn","CourseId"],["field","CourseId"],["pSortableColumn","CourseName"],["field","CourseName"],["pSortableColumn","CourseFee"],["field","CourseFee"],["pButton","","pRipple","","type","button","icon","pi pi-pencil",1,"p-button-rounded","p-button-text","p-button-success","p-inputtext-sm",3,"click"],["pButton","","pRipple","","type","button","icon","pi pi-trash",1,"p-button-rounded","p-button-text","p-button-danger","p-inputtext-sm",3,"click"],[4,"ngFor","ngForOf"],["colspan","4"]],template:function(e,t){1&e&&(o.Ob(0,"p-card",0),o.Ob(1,"div"),o.Ob(2,"h2"),o.Jb(3,"i",1),o.xc(4),o.Nb(),o.Nb(),o.Ob(5,"form",2),o.Vb("ngSubmit",function(){return t.onSubmit()}),o.Ob(6,"div",3),o.Ob(7,"label",4),o.xc(8,"Course Name"),o.Nb(),o.Ob(9,"input",5),o.Vb("blur",function(){return t.logValidationErrors()}),o.Nb(),o.vc(10,M,2,1,"small",6),o.Nb(),o.Ob(11,"div",3),o.Ob(12,"label",7),o.xc(13,"Course Fee"),o.Nb(),o.Ob(14,"input",8),o.Vb("blur",function(){return t.logValidationErrors()}),o.Nb(),o.vc(15,T,2,1,"small",9),o.Nb(),o.Jb(16,"button",10),o.Ob(17,"button",11),o.Vb("click",function(){return t.onCancelButtonClick()}),o.Nb(),o.Nb(),o.Nb(),o.Jb(18,"br"),o.Ob(19,"p-card"),o.Ob(20,"p-table",12,13),o.vc(22,w,6,0,"ng-template",14),o.vc(23,F,5,0,"ng-template",15),o.vc(24,B,12,0,"ng-template",16),o.vc(25,J,10,3,"ng-template",17),o.vc(26,_,1,2,"ng-template",18),o.vc(27,A,3,0,"ng-template",19),o.Nb(),o.Nb(),o.Jb(28,"p-toast"),o.Jb(29,"p-confirmDialog",20)),2&e&&(o.tc(o.ec(18,$)),o.xb(3),o.zb(t.icon),o.xb(1),o.zc(" ",t.pageTitle,""),o.xb(1),o.cc("formGroup",t.courseForm),o.xb(4),o.cc("ngClass",o.fc(19,U,t.formErrors.courseName)),o.xb(1),o.cc("ngIf",t.formErrors.courseName),o.xb(4),o.cc("ngClass",o.fc(21,U,t.formErrors.courseFee)),o.xb(1),o.cc("ngIf",t.formErrors.courseFee),o.xb(1),o.dc("label",t.submitButtonText),o.cc("disabled",t.courseForm.invalid)("icon",t.loadingIcon),o.xb(1),o.uc("display",t.isDisplayCancelButton?"inline-block":"none"),o.xb(3),o.cc("value",t.courselist)("scrollable",!0)("globalFilterFields",o.ec(23,R)))},directives:[v.a,x.o,x.j,x.e,x.a,m.a,x.i,x.c,S.h,S.j,x.l,l.a,u.a,I.c,n.i,k.a,j.a,I.b,I.a,S.i,E.a],styles:[".p-field[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{display:block}table[_ngcontent-%COMP%]{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;color:#000;border-collapse:collapse}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #a9a9a9;padding:5px 10px}"]}),e})(),q=(()=>{class e{constructor(e){this._httpClient=e}getSubject(){return this._httpClient.get(`${y.a.BASE_URL}${y.a.SUBJECT}`)}addSubject(e){return this._httpClient.post(`${y.a.BASE_URL}${y.a.SUBJECT}`,e)}deleteSubject(e){return this._httpClient.delete(`${y.a.BASE_URL}${y.a.SUBJECT}/${e}`)}getSubjectById(e){return this._httpClient.get(`${y.a.BASE_URL}${y.a.SUBJECT}/${e}`)}updateSubject(e){return this._httpClient.put(`${y.a.BASE_URL}${y.a.SUBJECT}`,e)}handleError(e){return e.error instanceof ErrorEvent?console.error("Client side error: "+e.error.message):console.error("Server side error : "+e.status+" "+e.error),Object(N.a)("This is a problem with the service. We are notified and working on it. Please try again later.")}}return e.\u0275fac=function(t){return new(t||e)(o.Sb(C.b))},e.\u0275prov=o.Eb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var D=r("arFO"),X=r("wxlm");function z(e,t){if(1&e){const e=o.Pb();o.Ob(0,"p-chip",31),o.Vb("onRemove",function(){return o.oc(e),o.Xb().onCancelButtonClick()}),o.Nb()}if(2&e){const e=o.Xb();o.dc("label",e.subjectId),o.cc("removable",!0)}}function G(e,t){if(1&e&&(o.Ob(0,"small",32),o.xc(1),o.Nb()),2&e){const e=o.Xb();o.xb(1),o.zc(" ",e.formErrors.courseId," ")}}function H(e,t){if(1&e&&(o.Ob(0,"small",33),o.xc(1),o.Nb()),2&e){const e=o.Xb();o.xb(1),o.zc(" ",e.formErrors.subjectName,"")}}function K(e,t){if(1&e&&(o.Ob(0,"small",34),o.xc(1),o.Nb()),2&e){const e=o.Xb();o.xb(1),o.zc(" ",e.formErrors.internalMarks," ")}}function Q(e,t){if(1&e&&(o.Ob(0,"small",35),o.xc(1),o.Nb()),2&e){const e=o.Xb();o.xb(1),o.zc(" ",e.formErrors.externalTheoryMarks," ")}}function W(e,t){if(1&e&&(o.Ob(0,"small",36),o.xc(1),o.Nb()),2&e){const e=o.Xb();o.xb(1),o.zc(" ",e.formErrors.externalPracticalMarks," ")}}function Y(e,t){if(1&e){const e=o.Pb();o.Ob(0,"div",37),o.Ob(1,"h5",38),o.xc(2,"Manage Subjects"),o.Nb(),o.Ob(3,"span",39),o.Jb(4,"i",40),o.Ob(5,"input",41),o.Vb("input",function(t){return o.oc(e),o.Xb(),o.nc(37).filterGlobal(t.target.value,"contains")}),o.Nb(),o.Nb(),o.Nb()}}function Z(e,t){1&e&&(o.Ob(0,"colgroup"),o.Jb(1,"col",42),o.Jb(2,"col",42),o.Jb(3,"col",43),o.Jb(4,"col",44),o.Jb(5,"col",44),o.Jb(6,"col",44),o.Jb(7,"col",44),o.Nb())}function ee(e,t){1&e&&(o.Ob(0,"tr"),o.Ob(1,"th"),o.xc(2,"Action"),o.Nb(),o.Ob(3,"th",45),o.xc(4,"Id"),o.Jb(5,"p-sortIcon",46),o.Nb(),o.Ob(6,"th",47),o.xc(7,"Subject"),o.Jb(8,"p-sortIcon",48),o.Nb(),o.Ob(9,"th",49),o.xc(10,"Internal Marks"),o.Jb(11,"p-sortIcon",50),o.Nb(),o.Ob(12,"th",51),o.xc(13,"External Theory "),o.Jb(14,"p-sortIcon",52),o.Nb(),o.Ob(15,"th",53),o.xc(16,"External Practical"),o.Jb(17,"p-sortIcon",54),o.Nb(),o.Ob(18,"th",55),o.xc(19,"Course"),o.Jb(20,"p-sortIcon",56),o.Nb(),o.Nb())}function te(e,t){if(1&e){const e=o.Pb();o.Ob(0,"tr"),o.Ob(1,"td"),o.Ob(2,"Button",57),o.Vb("click",function(){o.oc(e);const r=t.$implicit;return o.Xb().editButtonClick(r.SubjectId)}),o.Nb(),o.Ob(3,"Button",58),o.Vb("click",function(){o.oc(e);const r=t.$implicit;return o.Xb().confirm(r.SubjectId)}),o.Nb(),o.Nb(),o.Ob(4,"td"),o.xc(5),o.Nb(),o.Ob(6,"td"),o.xc(7),o.Nb(),o.Ob(8,"td"),o.xc(9),o.Nb(),o.Ob(10,"td"),o.xc(11),o.Nb(),o.Ob(12,"td"),o.xc(13),o.Nb(),o.Ob(14,"td"),o.xc(15),o.Nb(),o.Nb()}if(2&e){const e=t.$implicit;o.xb(5),o.yc(e.SubjectId),o.xb(2),o.yc(e.SubjectName),o.xb(2),o.yc(e.InternalMarks),o.xb(2),o.yc(e.ExternalTheoryMarks),o.xb(2),o.yc(e.ExternalPracticalMarks),o.xb(2),o.yc(e.CourseName)}}function re(e,t){1&e&&(o.Ob(0,"tr"),o.Ob(1,"td"),o.Jb(2,"p-skeleton"),o.Nb(),o.Ob(3,"td"),o.Jb(4,"p-skeleton"),o.Nb(),o.Ob(5,"td"),o.Jb(6,"p-skeleton"),o.Nb(),o.Ob(7,"td"),o.Jb(8,"p-skeleton"),o.Nb(),o.Nb())}const se=function(){return[0,1,2,3,4]};function oe(e,t){1&e&&o.vc(0,re,9,0,"tr",59),2&e&&o.cc("ngForOf",o.ec(1,se))}function ce(e,t){1&e&&(o.Ob(0,"tr"),o.Ob(1,"td",60),o.xc(2,"No subject found."),o.Nb(),o.Nb())}const ie=function(){return{width:"auto"}},ne=function(e){return{"ng-invalid ng-dirty":e}},ae=function(){return["SubjectId","SubjectName","InternalMarks","ExternalTheoryMarks","ExternalPracticalMarks","CourseName"]};let le=(()=>{class e{constructor(e,t,r,s,o,c,i){this.subjectService=e,this.courseService=t,this.primengConfig=r,this.fb=s,this.messageService=o,this._router=c,this.confirmationService=i,this.subjectId=null,this.pageTitle="Add Subject",this.submitButtonText="Add Subject",this.icon="pi pi-plus",this.isDisplayCancelButton=!1,this.loadingIcon="pi pi-check-circle",this.validationMessages={subjectName:{required:"Subject Name is required",minlength:"Subject Name must be greater than 2 characters",maxlength:"Subject Name must bes less than 20 character"},internalMarks:{required:"Internal Marks is required"},externalTheoryMarks:{required:"External Theory Marks is required"},externalPracticalMarks:{required:"External Practical Marks is required"},courseId:{required:"Course is required"}},this.formErrors={subjectName:"",internalMarks:"",externalTheoryMarks:"",externalPracticalMarks:"",courseId:""}}ngOnInit(){this.subjectForm=this.fb.group({subjectName:["",[x.n.required,x.n.minLength(3),x.n.maxLength(20)]],internalMarks:["",x.n.required],externalTheoryMarks:["",x.n.required],externalPracticalMarks:["",x.n.required],courseId:["",x.n.required]}),this.subjectForm.valueChanges.subscribe(e=>{this.logValidationErrors(this.subjectForm)}),this.primengConfig.ripple=!0,this.getCourse(),this.getSubject(),this.subject={SubjectId:0,SubjectName:"",InternalMarks:null,ExternalTheoryMarks:null,ExternalPracticalMarks:null,CourseId:null,CourseName:""}}getCourse(){this.courseService.getCourse().subscribe(e=>this.courselist=e,e=>{e instanceof C.d&&401===e.status&&(localStorage.removeItem("token"),this._router.navigate(["/auth"]))})}getSubject(){this.subjectService.getSubject().subscribe(e=>this.subjectlist=e,e=>{e instanceof C.d&&401===e.status&&(localStorage.removeItem("token"),this._router.navigate(["/auth"]))})}onSubmit(){this.loadingIcon="pi pi-spin pi-spinner",this.mapFormValueToCourseModel(),0!==this.subject.SubjectId?(this.subjectService.updateSubject(this.subject).subscribe(e=>{this.showSuccess("Subject updated successfully"),this.subjectForm.reset(),this.pageTitle="Add Subject",this.submitButtonText="Add Subject",this.isDisplayCancelButton=!1,this.getSubject()},e=>{console.error(e),this.showError("Error while updating subject")}),this.subject.SubjectId=0):(this.subjectService.addSubject(this.subject).subscribe(e=>{this.showSuccess("Subject added successfully"),this.subjectForm.reset(),this.getSubject()},e=>{console.error(e),this.showError("Error while adding subject")}),this.subject.SubjectId=0),this.loadingIcon="pi pi-check-circle",this.subjectId=null}mapFormValueToCourseModel(){this.subject.SubjectName=this.subjectForm.value.subjectName,this.subject.InternalMarks=this.subjectForm.value.internalMarks,this.subject.ExternalTheoryMarks=this.subjectForm.value.externalTheoryMarks,this.subject.ExternalPracticalMarks=this.subjectForm.value.externalPracticalMarks,this.subject.CourseId=this.subjectForm.value.courseId}logValidationErrors(e=this.subjectForm){Object.keys(e.controls).forEach(t=>{const r=e.get(t);if(r instanceof x.d)this.logValidationErrors(r);else if(this.formErrors[t]="",r&&!r.valid&&(r.touched||r.dirty)){const e=this.validationMessages[t];for(const s in r.errors)s&&(this.formErrors[t]+=e[s]+" ")}})}editButtonClick(e){this.subjectService.getSubjectById(e).subscribe(e=>{this.subject=e,this.pageTitle="Edit Subject",this.submitButtonText="Update Subject",this.icon="pi pi-pencil",this.isDisplayCancelButton=!0,this.editSubject(e)},e=>console.log(e))}editSubject(e){this.subjectId=e.SubjectId,this.subjectForm.patchValue({subjectName:e.SubjectName,internalMarks:e.InternalMarks,externalTheoryMarks:e.ExternalTheoryMarks,externalPracticalMarks:e.ExternalPracticalMarks,courseId:e.CourseId}),document.getElementById("courseId").focus()}deleteSubject(e){this.subjectService.deleteSubject(e).subscribe(e=>{console.log("Message : "+e),this.showSuccess("Subject deleted successfully"),this.getSubject()},e=>{console.log(e),this.showError("Error while deleting subject")})}showSuccess(e){this.messageService.add({severity:"success",summary:"Success",detail:e})}showError(e){this.messageService.add({severity:"error",summary:"Error",detail:e})}clear(){this.messageService.clear()}confirm(e){this.confirmationService.confirm({message:"Do you want to delete this record?",accept:()=>{this.deleteSubject(e)}})}onCancelButtonClick(){this.subjectForm.reset(),this.pageTitle="Add Subject",this.submitButtonText="Add Subject",this.isDisplayCancelButton=!1,this.icon="pi pi-plus",this.subject.SubjectId=0,this.subjectId=null}}return e.\u0275fac=function(t){return new(t||e)(o.Ib(q),o.Ib(O),o.Ib(n.h),o.Ib(x.b),o.Ib(n.g),o.Ib(s.a),o.Ib(n.a))},e.\u0275cmp=o.Cb({type:e,selectors:[["app-create-subject"]],decls:46,vars:39,consts:[[1,"p-m-5"],[2,"font-size","18px","font-weight","bold","margin-right","5px"],["icon","pi pi-tags","class","p-ml-2","styleClass","custom-chip",3,"label","removable","onRemove",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"p-field"],["for","courseId"],["id","courseId","aria-describedby","courseId-help","placeholder","Select a Course","optionLabel","CourseName","optionValue","CourseId","formControlName","courseId",3,"options","showClear","ngClass","blur"],["id","courseId-help","class","p-error",4,"ngIf"],["for","subjectName"],["id","subjectName","type","text","aria-describedby","subjectName-help","autocomplete","off","pInputText","","formControlName","subjectName",1,"p-inputtext-sm",3,"ngClass","blur"],["id","subjectName-help","class","p-error",4,"ngIf"],["for","internalMarks"],["id","internalMarks","type","number","aria-describedby","internalMarks-help","autocomplete","off","min","0","pInputText","","formControlName","internalMarks",1,"p-inputtext-sm",3,"ngClass","blur"],["id","internalMarks-help","class","p-error",4,"ngIf"],["for","externalTheoryMarks"],["id","externalTheoryMarks","type","number","aria-describedby","externalTheoryMarks-help","autocomplete","off","min","0","pInputText","","formControlName","externalTheoryMarks",1,"p-inputtext-sm",3,"ngClass","blur"],["id","externalTheoryMarks-help","class","p-error",4,"ngIf"],["for","externalPracticalMarks"],["id","externalPracticalMarks","type","number","aria-describedby","externalPracticalMarks-help","autocomplete","off","min","0","pInputText","","formControlName","externalPracticalMarks",1,"p-inputtext-sm",3,"ngClass","blur"],["id","externalPracticalMarks-help","class","p-error",4,"ngIf"],["pButton","","type","submit","pRipple","",1,"p-button","p-mr-4",3,"label","disabled","icon"],["pButton","","pRipple","","type","button","label","Cancel","icon","pi pi-times",1,"p-button-secondary",3,"click"],["styleClass","p-datatable-sm p-datatable-striped","sortMode","multiple","dataKey","id","scrollHeight","400px","selectionMode","single",3,"value","scrollable","globalFilterFields"],["dt1",""],["pTemplate","caption"],["pTemplate","colgroup"],["pTemplate","header"],["pTemplate","body"],["pTemplate","loadingbody"],["pTemplate","emptymessage"],["header","Confirmation","icon","pi pi-exclamation-triangle"],["icon","pi pi-tags","styleClass","custom-chip",1,"p-ml-2",3,"label","removable","onRemove"],["id","courseId-help",1,"p-error"],["id","subjectName-help",1,"p-error"],["id","internalMarks-help",1,"p-error"],["id","externalTheoryMarks-help",1,"p-error"],["id","externalPracticalMarks-help",1,"p-error"],[1,"p-d-flex","p-ai-center","p-jc-between"],[1,"p-m-0"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"],[2,"width","100px"],[2,"width","250px"],[2,"width","150px"],["pSortableColumn","SubjectId"],["field","SubjectId"],["pSortableColumn","SubjectName"],["field","SubjectName"],["pSortableColumn","InternalMarks"],["field","InternalMarks"],["pSortableColumn","ExternalTheoryMarks"],["field","ExternalTheoryMarks"],["pSortableColumn","ExternalPracticalMarks"],["field","ExternalPracticalMarks"],["pSortableColumn","CourseName"],["field","CourseName"],["pButton","","pRipple","","type","button","icon","pi pi-pencil",1,"p-button-rounded","p-button-text","p-button-success","p-inputtext-sm",3,"click"],["pButton","","pRipple","","type","button","icon","pi pi-trash",1,"p-button-rounded","p-button-text","p-button-danger","p-inputtext-sm",3,"click"],[4,"ngFor","ngForOf"],["colspan","4"]],template:function(e,t){1&e&&(o.Ob(0,"p-card",0),o.Ob(1,"div"),o.Ob(2,"h2"),o.Jb(3,"i",1),o.xc(4),o.vc(5,z,1,2,"p-chip",2),o.Nb(),o.Nb(),o.Ob(6,"form",3),o.Vb("ngSubmit",function(){return t.onSubmit()}),o.Ob(7,"div",4),o.Ob(8,"label",5),o.xc(9,"Course"),o.Nb(),o.Ob(10,"p-dropdown",6),o.Vb("blur",function(){return t.logValidationErrors()}),o.Nb(),o.vc(11,G,2,1,"small",7),o.Nb(),o.Ob(12,"div",4),o.Ob(13,"label",8),o.xc(14,"Subject Name"),o.Nb(),o.Ob(15,"input",9),o.Vb("blur",function(){return t.logValidationErrors()}),o.Nb(),o.vc(16,H,2,1,"small",10),o.Nb(),o.Ob(17,"div",4),o.Ob(18,"label",11),o.xc(19,"Internal Marks"),o.Nb(),o.Ob(20,"input",12),o.Vb("blur",function(){return t.logValidationErrors()}),o.Nb(),o.vc(21,K,2,1,"small",13),o.Nb(),o.Ob(22,"div",4),o.Ob(23,"label",14),o.xc(24,"External Theory Marks"),o.Nb(),o.Ob(25,"input",15),o.Vb("blur",function(){return t.logValidationErrors()}),o.Nb(),o.vc(26,Q,2,1,"small",16),o.Nb(),o.Ob(27,"div",4),o.Ob(28,"label",17),o.xc(29,"External Practical Marks"),o.Nb(),o.Ob(30,"input",18),o.Vb("blur",function(){return t.logValidationErrors()}),o.Nb(),o.vc(31,W,2,1,"small",19),o.Nb(),o.Jb(32,"button",20),o.Ob(33,"button",21),o.Vb("click",function(){return t.onCancelButtonClick()}),o.Nb(),o.Nb(),o.Nb(),o.Jb(34,"br"),o.Ob(35,"p-card"),o.Ob(36,"p-table",22,23),o.vc(38,Y,6,0,"ng-template",24),o.vc(39,Z,8,0,"ng-template",25),o.vc(40,ee,21,0,"ng-template",26),o.vc(41,te,16,6,"ng-template",27),o.vc(42,oe,1,2,"ng-template",28),o.vc(43,ce,3,0,"ng-template",29),o.Nb(),o.Nb(),o.Jb(44,"p-toast"),o.Jb(45,"p-confirmDialog",30)),2&e&&(o.tc(o.ec(27,ie)),o.xb(3),o.zb(t.icon),o.xb(1),o.zc(" ",t.pageTitle," "),o.xb(1),o.cc("ngIf",t.subjectId),o.xb(1),o.cc("formGroup",t.subjectForm),o.xb(4),o.cc("options",t.courselist)("showClear",!0)("ngClass",o.fc(28,ne,t.formErrors.courseId)),o.xb(1),o.cc("ngIf",t.formErrors.courseId),o.xb(4),o.cc("ngClass",o.fc(30,ne,t.formErrors.subjectName)),o.xb(1),o.cc("ngIf",t.formErrors.subjectName),o.xb(4),o.cc("ngClass",o.fc(32,ne,t.formErrors.internalMarks)),o.xb(1),o.cc("ngIf",t.formErrors.internalMarks),o.xb(4),o.cc("ngClass",o.fc(34,ne,t.formErrors.externalTheoryMarks)),o.xb(1),o.cc("ngIf",t.formErrors.externalTheoryMarks),o.xb(4),o.cc("ngClass",o.fc(36,ne,t.formErrors.externalPracticalMarks)),o.xb(1),o.cc("ngIf",t.formErrors.externalPracticalMarks),o.xb(1),o.dc("label",t.submitButtonText),o.cc("disabled",t.subjectForm.invalid)("icon",t.loadingIcon),o.xb(1),o.uc("display",t.isDisplayCancelButton?"inline-block":"none"),o.xb(3),o.cc("value",t.subjectlist)("scrollable",!0)("globalFilterFields",o.ec(38,ae)))},directives:[v.a,S.j,x.o,x.j,x.e,D.a,x.i,x.c,S.h,x.a,m.a,x.l,l.a,u.a,I.c,n.i,k.a,j.a,X.a,I.b,I.a,S.i,E.a],styles:[".p-field[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{display:block}table[_ngcontent-%COMP%]{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;color:#000;border-collapse:collapse}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #a9a9a9;padding:5px 10px}"]}),e})();const ue=[{path:"",component:h,children:[{path:"dashboard",component:g},{path:"create-user-login",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Cb({type:e,selectors:[["app-create-user-login"]],decls:11,vars:0,consts:[[1,"p-grid"],[1,"p-col-12","p-md-6","p-lg-3"]],template:function(e,t){1&e&&(o.Ob(0,"p"),o.xc(1,"create-user-login works!"),o.Nb(),o.Ob(2,"div",0),o.Ob(3,"div",1),o.xc(4,"A"),o.Nb(),o.Ob(5,"div",1),o.xc(6,"B"),o.Nb(),o.Ob(7,"div",1),o.xc(8,"C"),o.Nb(),o.Ob(9,"div",1),o.xc(10,"D"),o.Nb(),o.Nb())},styles:[""]}),e})()},{path:"create-student",component:f},{path:"create-course",component:L},{path:"create-subject",component:le},{path:"create-parent",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Cb({type:e,selectors:[["app-create-parent"]],decls:2,vars:0,template:function(e,t){1&e&&(o.Ob(0,"p"),o.xc(1,"create-parent works!"),o.Nb())},styles:[""]}),e})()},{path:"create-faculty",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Cb({type:e,selectors:[["app-create-faculty"]],decls:2,vars:0,template:function(e,t){1&e&&(o.Ob(0,"p"),o.xc(1,"create-faculty works!"),o.Nb())},styles:[""]}),e})()},{path:"fee-detail",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Cb({type:e,selectors:[["app-fee-detail"]],decls:2,vars:0,template:function(e,t){1&e&&(o.Ob(0,"p"),o.xc(1,"fee-detail works!"),o.Nb())},styles:[""]}),e})()}]}];let be=(()=>{class e{}return e.\u0275mod=o.Gb({type:e}),e.\u0275inj=o.Fb({factory:function(t){return new(t||e)},imports:[[s.d.forChild(ue)],s.d]}),e})();var pe=r("eksp"),de=r("4TcP");let he=(()=>{class e{}return e.\u0275mod=o.Gb({type:e}),e.\u0275inj=o.Fb({factory:function(t){return new(t||e)},providers:[O,n.g,n.a,{provide:C.a,useClass:pe.a,multi:!0}],imports:[[de.a,be]]}),e})()}}]);