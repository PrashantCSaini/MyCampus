(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{Mrg0:function(e,t,r){"use strict";r.r(t),r.d(t,"FacultyModule",function(){return tt});var s=r("ofXK"),i=r("4TcP"),o=r("tk/3"),n=r("eksp"),a=r("tyNb"),c=r("fXoL");let l=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Cb({type:e,selectors:[["app-dashboard"]],decls:2,vars:0,template:function(e,t){1&e&&(c.Ob(0,"h1"),c.Bc(1,"Faculty Dashboard"),c.Nb())},styles:[""]}),e})();var b=r("BNIK"),u=r("QIUk");function d(e,t){if(1&e&&(c.Ob(0,"div",2),c.Ob(1,"div",3),c.Bc(2),c.Nb(),c.Ob(3,"div",3),c.Bc(4),c.Nb(),c.Ob(5,"div",3),c.Bc(6),c.Yb(7,"date"),c.Nb(),c.Ob(8,"div",3),c.Bc(9),c.Nb(),c.Ob(10,"div",3),c.Bc(11),c.Nb(),c.Ob(12,"div",3),c.Bc(13),c.Nb(),c.Ob(14,"div",3),c.Bc(15),c.Nb(),c.Nb()),2&e){const e=c.Xb();c.xb(2),c.Dc(" Faculty Name : ",e.f.FacultyName," "),c.xb(2),c.Dc(" Education : ",e.f.Education," "),c.xb(2),c.Dc(" Date Of Birth : ",c.ac(7,7,e.f.DateOfBirth,"dd/MM/yyyy")," "),c.xb(3),c.Dc(" Email : ",e.f.Email," "),c.xb(2),c.Dc(" MobileNo : ",e.f.MobileNo," "),c.xb(2),c.Dc(" Address : ",e.f.Address," "),c.xb(2),c.Dc(" CourseId : ",e.f.CourseId," ")}}const m=function(){return{margin:"20px"}};let p=(()=>{class e{constructor(e){this.facultyService=e}ngOnInit(){this.getFacultyById()}getFacultyById(){this.facultyService.getFacultyById(+localStorage.getItem("id")).subscribe(e=>{this.f=e},e=>console.log(e))}}return e.\u0275fac=function(t){return new(t||e)(c.Ib(b.a))},e.\u0275cmp=c.Cb({type:e,selectors:[["app-details"]],decls:3,vars:4,consts:[["header","Faculty info"],["class","p-fluid p-grid",4,"ngIf"],[1,"p-fluid","p-grid"],[1,"p-col-12","p-lg-4","p-md-6"]],template:function(e,t){1&e&&(c.Jb(0,"br"),c.Ob(1,"p-card",0),c.zc(2,d,16,10,"div",1),c.Nb()),2&e&&(c.xb(1),c.xc(c.hc(3,m)),c.xb(1),c.ec("ngIf",t.f))},directives:[u.a,s.k],pipes:[s.d],styles:[""]}),e})();var h=r("3Pt+"),f=r("QKdN"),g=r("VZZM"),N=r("0308"),I=r("X2Lf"),v=r("7zfz"),S=r("arFO"),O=r("eO1q"),C=r("jIHw"),x=r("Q4Mo"),y=r("rEr+"),E=r("Gxio"),B=r("7kUa");function k(e,t){if(1&e&&(c.Ob(0,"small",25),c.Bc(1),c.Nb()),2&e){const e=c.Xb();c.xb(1),c.Dc(" ",e.formErrors.courseId," ")}}function D(e,t){if(1&e&&(c.Ob(0,"small",26),c.Bc(1),c.Nb()),2&e){const e=c.Xb();c.xb(1),c.Dc(" ",e.formErrors.subjectId," ")}}function w(e,t){if(1&e&&(c.Ob(0,"small",27),c.Bc(1),c.Nb()),2&e){const e=c.Xb();c.xb(1),c.Dc(" ",e.formErrors.semester," ")}}function F(e,t){if(1&e&&(c.Ob(0,"small",28),c.Bc(1),c.Nb()),2&e){const e=c.Xb();c.xb(1),c.Dc(" ",e.formErrors.date,"")}}function j(e,t){if(1&e){const e=c.Pb();c.Ob(0,"div",29),c.Ob(1,"h5",30),c.Bc(2,"Student"),c.Nb(),c.Ob(3,"span",31),c.Jb(4,"i",32),c.Ob(5,"input",33),c.Vb("input",function(t){return c.sc(e),c.Xb(),c.rc(34).filterGlobal(t.target.value,"contains")}),c.Nb(),c.Nb(),c.Nb()}}function V(e,t){1&e&&(c.Ob(0,"colgroup"),c.Jb(1,"col",34),c.Jb(2,"col",35),c.Jb(3,"col",36),c.Jb(4,"col",36),c.Nb())}function M(e,t){1&e&&(c.Ob(0,"tr"),c.Ob(1,"th",37),c.Bc(2,"Id"),c.Jb(3,"p-sortIcon",38),c.Nb(),c.Ob(4,"th",39),c.Bc(5,"Student Name"),c.Jb(6,"p-sortIcon",40),c.Nb(),c.Ob(7,"th"),c.Bc(8,"Present "),c.Nb(),c.Ob(9,"th"),c.Bc(10,"Absent "),c.Nb(),c.Nb())}function T(e,t){if(1&e){const e=c.Pb();c.Ob(0,"tr"),c.Ob(1,"td"),c.Bc(2),c.Nb(),c.Ob(3,"td"),c.Bc(4),c.Nb(),c.Ob(5,"td"),c.Ob(6,"Button",41),c.Vb("click",function(){c.sc(e);const r=t.$implicit;return c.Xb().presentButtonClick(r.StudentId,r.Name)}),c.Nb(),c.Nb(),c.Ob(7,"td"),c.Ob(8,"Button",42),c.Vb("click",function(){c.sc(e);const r=t.$implicit;return c.Xb().absentButtonClick(r.StudentId,r.Name)}),c.Nb(),c.Nb(),c.Nb()}if(2&e){const e=t.$implicit;c.xb(2),c.Cc(e.StudentId),c.xb(2),c.Cc(e.Name)}}function A(e,t){1&e&&(c.Ob(0,"tr"),c.Ob(1,"td",43),c.Bc(2,"No student found."),c.Nb(),c.Nb())}const q=function(){return{width:"auto"}},z=function(e){return{"ng-invalid ng-dirty":e}},J=function(){return["StudentId","Name"]};let R=(()=>{class e{constructor(e,t,r,s,i,o,n){this.subjectService=e,this.attendenceService=t,this.facultyService=r,this.courseService=s,this.fb=i,this.messageService=o,this._router=n,this.icon="pi pi-plus",this.validationMessages={courseId:{required:"Course Name is required"},subjectId:{required:"Subject is required"},semester:{required:"Semester is required"},date:{required:"Date is required"},attendence:{required:"Semester is required"}},this.formErrors={courseId:"",subjectId:"",semester:"",date:"",attendence:""},this.semesterlist=[{no:1},{no:2},{no:3},{no:4},{no:5},{no:6}]}ngOnInit(){this.aForm=this.fb.group({courseId:["",h.n.required],subjectId:["",h.n.required],semester:["",h.n.required],date:["",h.n.required]}),this.aForm.valueChanges.subscribe(e=>{this.logValidationErrors(this.aForm)}),this.getCourse(),this.attendence={AttendanceId:0,Date:null,CourseId:0,Semester:0,SubjectId:0,StudentId:0,Attendance:null}}getCourse(){this.courseService.getCourse().subscribe(e=>this.courselist=e,e=>{e instanceof o.d&&401===e.status&&(localStorage.removeItem("token"),this._router.navigate(["/auth"]))})}getSubjectById(){this.getSubject()}getSubject(){this.subjectService.getSubjectByCourseId(+this.aForm.value.courseId).subscribe(e=>this.subjectlist=e,e=>{e instanceof o.d&&401===e.status&&(localStorage.removeItem("token"),this._router.navigate(["/auth"]))})}onSubmit(){console.log(this.aForm.value.courseId),console.log(this.aForm.value.semester),this.getStudentlist()}getStudentlist(){this.attendenceService.getStudentByCourse(+this.aForm.value.courseId,+this.aForm.value.semester).subscribe(e=>this.studentlist=e,e=>{e instanceof o.d&&401===e.status&&(localStorage.removeItem("token"),this._router.navigate(["/auth"]))})}presentButtonClick(e,t){this.attendence.AttendanceId=0,this.attendence.Date=Object(f.a)(this.aForm.value.date),this.attendence.CourseId=this.aForm.value.courseId,this.attendence.Semester=this.aForm.value.semester,this.attendence.SubjectId=this.aForm.value.subjectId,this.attendence.StudentId=e,this.attendence.Attendance="P",this.attendenceService.addAttendence(this.attendence).subscribe(e=>{this.showSuccess("Attendence added for "+t)},e=>{console.error(e),this.showError("Error while adding attendence for "+t)})}absentButtonClick(e,t){this.attendence.AttendanceId=0,this.attendence.Date=Object(f.a)(this.aForm.value.date),this.attendence.CourseId=this.aForm.value.courseId,this.attendence.Semester=this.aForm.value.semester,this.attendence.SubjectId=this.aForm.value.subjectId,this.attendence.StudentId=e,this.attendence.Attendance="A",this.attendenceService.addAttendence(this.attendence).subscribe(e=>{this.showSuccess("Attendence added for "+t)},e=>{console.error(e),this.showError("Error while adding attendence for "+t)})}logValidationErrors(e=this.aForm){Object.keys(e.controls).forEach(t=>{const r=e.get(t);if(r instanceof h.d)this.logValidationErrors(r);else if(this.formErrors[t]="",r&&!r.valid&&(r.touched||r.dirty)){const e=this.validationMessages[t];for(const s in r.errors)s&&(this.formErrors[t]+=e[s]+" ")}})}showSuccess(e){this.messageService.add({severity:"success",summary:"Success",detail:e})}showError(e){this.messageService.add({severity:"error",summary:"Error",detail:e})}clear(){this.messageService.clear()}}return e.\u0275fac=function(t){return new(t||e)(c.Ib(g.a),c.Ib(N.a),c.Ib(b.a),c.Ib(I.a),c.Ib(h.b),c.Ib(v.g),c.Ib(a.b))},e.\u0275cmp=c.Cb({type:e,selectors:[["app-attendance"]],decls:41,vars:36,consts:[[1,"p-m-5"],[2,"font-size","18px","font-weight","bold","margin-right","5px"],[3,"formGroup","ngSubmit"],[1,"p-fluid","p-formgrid","p-grid"],[1,"p-field","p-col-12","p-md-2"],["for","courseId"],["id","courseId","aria-describedby","courseId-help","placeholder","Select a Course","optionLabel","CourseName","optionValue","CourseId","formControlName","courseId",3,"options","showClear","ngClass","onChange","blur"],["id","courseId-help","class","p-error",4,"ngIf"],["for","subjectId"],["id","subjectId","aria-describedby","subjectId-help","placeholder","Select Subject","optionLabel","SubjectName","optionValue","SubjectId","formControlName","subjectId",3,"options","showClear","ngClass","blur"],["id","subjectId-help","class","p-error",4,"ngIf"],["for","semester"],["id","semester","aria-describedby","semester-help","placeholder","Select Semester","optionLabel","no","optionValue","no","formControlName","semester",3,"options","showClear","ngClass","blur"],["id","semester-help","class","p-error",4,"ngIf"],["for","date"],["id","date","formControlName","date","dateFormat","dd-mm-yy","showButtonBar","true","yearRange","1990:2025",3,"ngClass","showIcon","monthNavigator","yearNavigator","blur"],["id","date-help","class","p-error",4,"ngIf"],["pButton","","type","submit","label","Show Student","pRipple","",1,"p-button",3,"disabled"],["styleClass","p-datatable-sm p-datatable-striped","sortMode","multiple","dataKey","id","scrollHeight","400px","selectionMode","single",3,"value","scrollable","globalFilterFields"],["dt1",""],["pTemplate","caption"],["pTemplate","colgroup"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["id","courseId-help",1,"p-error"],["id","subjectId-help",1,"p-error"],["id","semester-help",1,"p-error"],["id","date-help",1,"p-error"],[1,"p-d-flex","p-ai-center","p-jc-between"],[1,"p-m-0"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"],[2,"width","100px"],[2,"width","200px"],[2,"width","50px"],["pSortableColumn","StudentId"],["field","StudentId"],["pSortableColumn","Name"],["field","Name"],["pButton","","pRipple","","type","button","title","Present","icon","pi pi-check",1,"p-button-rounded","p-button-success",3,"click"],["pButton","","pRipple","","type","button","title","Absent","icon","pi pi-times",1,"p-button-rounded","p-button-danger",3,"click"],["colspan","4"]],template:function(e,t){1&e&&(c.Ob(0,"p-card",0),c.Ob(1,"div"),c.Ob(2,"h2"),c.Jb(3,"i",1),c.Bc(4," Add Attendence "),c.Nb(),c.Nb(),c.Ob(5,"form",2),c.Vb("ngSubmit",function(){return t.onSubmit()}),c.Ob(6,"div",3),c.Ob(7,"div",4),c.Ob(8,"label",5),c.Bc(9,"Course"),c.Nb(),c.Ob(10,"p-dropdown",6),c.Vb("onChange",function(){return t.getSubjectById()})("blur",function(){return t.logValidationErrors()}),c.Nb(),c.zc(11,k,2,1,"small",7),c.Nb(),c.Ob(12,"div",4),c.Ob(13,"label",8),c.Bc(14,"Subject"),c.Nb(),c.Ob(15,"p-dropdown",9),c.Vb("blur",function(){return t.logValidationErrors()}),c.Nb(),c.zc(16,D,2,1,"small",10),c.Nb(),c.Ob(17,"div",4),c.Ob(18,"label",11),c.Bc(19,"Semester"),c.Nb(),c.Ob(20,"p-dropdown",12),c.Vb("blur",function(){return t.logValidationErrors()}),c.Nb(),c.zc(21,w,2,1,"small",13),c.Nb(),c.Ob(22,"div",4),c.Ob(23,"label",14),c.Bc(24,"Date"),c.Nb(),c.Ob(25,"p-calendar",15),c.Vb("blur",function(){return t.logValidationErrors()}),c.Nb(),c.zc(26,F,2,1,"small",16),c.Nb(),c.Ob(27,"div",4),c.Ob(28,"label"),c.Bc(29,"Show Student"),c.Nb(),c.Jb(30,"button",17),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Jb(31,"br"),c.Ob(32,"p-card"),c.Ob(33,"p-table",18,19),c.zc(35,j,6,0,"ng-template",20),c.zc(36,V,5,0,"ng-template",21),c.zc(37,M,11,0,"ng-template",22),c.zc(38,T,9,2,"ng-template",23),c.zc(39,A,3,0,"ng-template",24),c.Nb(),c.Nb(),c.Jb(40,"p-toast")),2&e&&(c.xc(c.hc(26,q)),c.xb(3),c.zb(t.icon),c.xb(2),c.ec("formGroup",t.aForm),c.xb(5),c.ec("options",t.courselist)("showClear",!0)("ngClass",c.ic(27,z,t.formErrors.courseId)),c.xb(1),c.ec("ngIf",t.formErrors.courseId),c.xb(4),c.ec("options",t.subjectlist)("showClear",!0)("ngClass",c.ic(29,z,t.formErrors.subjectId)),c.xb(1),c.ec("ngIf",t.formErrors.subjectId),c.xb(4),c.ec("options",t.semesterlist)("showClear",!0)("ngClass",c.ic(31,z,t.formErrors.semester)),c.xb(1),c.ec("ngIf",t.formErrors.semester),c.xb(4),c.ec("ngClass",c.ic(33,z,t.formErrors.date))("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0),c.xb(1),c.ec("ngIf",t.formErrors.date),c.xb(4),c.ec("disabled",t.aForm.invalid),c.xb(3),c.ec("value",t.studentlist)("scrollable",!0)("globalFilterFields",c.hc(35,J)))},directives:[u.a,h.o,h.j,h.e,S.a,h.i,h.c,s.i,s.k,O.a,C.b,x.a,y.c,v.i,E.a,B.a,y.b,y.a],styles:[""]}),e})();var L=r("Ug1E"),X=r("b1Ni"),P=r("+F6F");function _(e,t){1&e&&c.Jb(0,"img",3)}function G(e,t){if(1&e){const e=c.Pb();c.Ob(0,"button",4),c.Vb("click",function(){return c.sc(e),c.Xb().logout()}),c.Nb(),c.Jb(1,"p-avatar",5),c.Yb(2,"uppercase"),c.Yb(3,"slice")}if(2&e){const e=c.Xb();c.xb(1),c.fc("label",c.Zb(2,1,c.bc(3,3,e.username,0,1)))}}let $=(()=>{class e{constructor(e){this.auth=e,this.username=localStorage.getItem("username")}ngOnInit(){this.items=[{label:"Dashboard",icon:"pi pi-fw pi-chart-bar",routerLink:["dashboard"]},{label:"Info",icon:"pi pi-fw pi-chart-bar",routerLink:["info"]},{label:"Attendance",icon:"pi pi-fw pi-chart-bar",routerLink:["attendance"]},{label:"Assignment",icon:"pi pi-fw pi-plus",routerLink:["assignment"]},{label:"Result",icon:"pi pi-fw pi-chart-bar",routerLink:["result"]},{label:"Placement",icon:"pi pi-fw pi-chart-bar",routerLink:["placement"]},{label:"Notificaiton",icon:"pi pi-fw pi-chart-bar",routerLink:["send-notification"]}]}logout(){this.auth.logoutUser()}}return e.\u0275fac=function(t){return new(t||e)(c.Ib(L.a))},e.\u0275cmp=c.Cb({type:e,selectors:[["app-home"]],decls:4,vars:1,consts:[[3,"model"],["pTemplate","start"],["pTemplate","end"],["src","https://primefaces.org/primeng/showcase/assets/showcase/images/primeng.svg","height","40",1,"p-mr-2"],["pButton","","type","button","label","Logout","icon","pi pi-sign-out","pRipple","",1,"p-button-text","p-button-help",3,"click"],["shape","circle","icon","p-avatar-icon",1,"p-ml-2",3,"label"]],template:function(e,t){1&e&&(c.Ob(0,"p-menubar",0),c.zc(1,_,1,0,"ng-template",1),c.zc(2,G,4,7,"ng-template",2),c.Nb(),c.Jb(3,"router-outlet")),2&e&&c.ec("model",t.items)},directives:[X.a,v.i,a.f,C.b,x.a,P.a],pipes:[s.s,s.r],styles:[""]}),e})();var Y=r("m/l6"),U=r("LuMj");function K(e,t){if(1&e&&(c.Ob(0,"small",42),c.Bc(1),c.Nb()),2&e){const e=c.Xb();c.xb(1),c.Dc(" ",e.formErrors.courseId," ")}}function Z(e,t){if(1&e&&(c.Ob(0,"small",43),c.Bc(1),c.Nb()),2&e){const e=c.Xb();c.xb(1),c.Dc(" ",e.formErrors.subjectId," ")}}function H(e,t){if(1&e&&(c.Ob(0,"small",44),c.Bc(1),c.Nb()),2&e){const e=c.Xb();c.xb(1),c.Dc(" ",e.formErrors.semester," ")}}function Q(e,t){if(1&e&&(c.Ob(0,"small",45),c.Bc(1),c.Nb()),2&e){const e=c.Xb();c.xb(1),c.Dc(" ",e.formErrors.studentId," ")}}function W(e,t){if(1&e&&(c.Ob(0,"small",46),c.Bc(1),c.Nb()),2&e){const e=c.Xb();c.xb(1),c.Dc(" ",e.formErrors.marksScored," ")}}function ee(e,t){if(1&e&&(c.Ob(0,"small",47),c.Bc(1),c.Nb()),2&e){const e=c.Xb();c.xb(1),c.Dc(" ",e.formErrors.totalMarks," ")}}function te(e,t){if(1&e){const e=c.Pb();c.Ob(0,"div",36),c.Ob(1,"div",37),c.Bc(2),c.Nb(),c.Ob(3,"div",38),c.Bc(4),c.Nb(),c.Ob(5,"div",38),c.Bc(6),c.Nb(),c.Ob(7,"div",38),c.Ob(8,"Button",49),c.Vb("click",function(){c.sc(e);const t=c.Xb().$implicit;return c.Xb().deleteResult(t.ResultId)}),c.Nb(),c.Nb(),c.Nb()}if(2&e){const e=c.Xb().$implicit;c.xb(2),c.Dc(" ",e.SubjectName," "),c.xb(2),c.Dc(" ",e.MarksScored," "),c.xb(2),c.Dc(" ",e.TotalMarks," ")}}function re(e,t){if(1&e&&(c.Ob(0,"div"),c.zc(1,te,9,3,"div",48),c.Nb()),2&e){const e=t.$implicit;c.xb(1),c.ec("ngIf","IT"==e.ExamType)}}function se(e,t){if(1&e){const e=c.Pb();c.Ob(0,"div",36),c.Ob(1,"div",37),c.Bc(2),c.Nb(),c.Ob(3,"div",38),c.Bc(4),c.Nb(),c.Ob(5,"div",38),c.Bc(6),c.Nb(),c.Ob(7,"div",38),c.Ob(8,"Button",49),c.Vb("click",function(){c.sc(e);const t=c.Xb().$implicit;return c.Xb().deleteResult(t.ResultId)}),c.Nb(),c.Nb(),c.Nb()}if(2&e){const e=c.Xb().$implicit;c.xb(2),c.Dc(" ",e.SubjectName," "),c.xb(2),c.Dc(" ",e.MarksScored," "),c.xb(2),c.Dc(" ",e.TotalMarks," ")}}function ie(e,t){if(1&e&&(c.Ob(0,"div"),c.zc(1,se,9,3,"div",48),c.Nb()),2&e){const e=t.$implicit;c.xb(1),c.ec("ngIf","ET"==e.ExamType)}}function oe(e,t){if(1&e){const e=c.Pb();c.Ob(0,"div",36),c.Ob(1,"div",37),c.Bc(2),c.Nb(),c.Ob(3,"div",38),c.Bc(4),c.Nb(),c.Ob(5,"div",38),c.Bc(6),c.Nb(),c.Ob(7,"div",38),c.Ob(8,"Button",49),c.Vb("click",function(){c.sc(e);const t=c.Xb().$implicit;return c.Xb().deleteResult(t.ResultId)}),c.Nb(),c.Nb(),c.Nb()}if(2&e){const e=c.Xb().$implicit;c.xb(2),c.Dc(" ",e.SubjectName," "),c.xb(2),c.Dc(" ",e.MarksScored," "),c.xb(2),c.Dc(" ",e.TotalMarks," ")}}function ne(e,t){if(1&e&&(c.Ob(0,"div"),c.zc(1,oe,9,3,"div",48),c.Nb()),2&e){const e=t.$implicit;c.xb(1),c.ec("ngIf","EP"==e.ExamType)}}const ae=function(){return{margin:"20px"}},ce=function(e){return{"ng-invalid ng-dirty":e}};let le=(()=>{class e{constructor(e,t,r,s,i,o,n,a){this.subjectService=e,this.facultyService=t,this.resultService=r,this.courseService=s,this.attendenceService=i,this.fb=o,this.messageService=n,this._router=a,this.icon="pi pi-plus",this.validationMessages={courseId:{required:"Course Name is required"},subjectId:{required:"Subject is required"},semester:{required:"Semester is required"},marksScored:{required:"Marks Scored is required"},totalMarks:{required:"Total Marks is required"},studentId:{required:"Student is required"}},this.formErrors={courseId:"",subjectId:"",semester:"",marksScored:"",totalMarks:"",studentId:""},this.semesterlist=[{no:1},{no:2},{no:3},{no:4},{no:5},{no:6}]}ngOnInit(){this.resultForm=this.fb.group({courseId:["",h.n.required],subjectId:["",h.n.required],semester:["",h.n.required],examType:["IT",h.n.required],marksScored:["",h.n.required],totalMarks:["",h.n.required],studentId:["",h.n.required]}),this.resultForm.valueChanges.subscribe(e=>{this.logValidationErrors(this.resultForm)}),this.getCourse(),this.result={ResultId:0,ExamType:null,SubjectName:null,MarksScored:0,TotalMarks:0,StudentId:0}}getCourse(){this.courseService.getCourse().subscribe(e=>this.courselist=e,e=>{e instanceof o.d&&401===e.status&&(localStorage.removeItem("token"),this._router.navigate(["/auth"]))})}getSubjectById(){this.getSubject()}getSubject(){this.subjectService.getSubjectByCourseId(+this.resultForm.value.courseId).subscribe(e=>this.subjectlist=e,e=>{e instanceof o.d&&401===e.status&&(localStorage.removeItem("token"),this._router.navigate(["/auth"]))})}getStudentlist(){this.attendenceService.getStudentByCourse(+this.resultForm.value.courseId,+this.resultForm.value.semester).subscribe(e=>this.studentlist=e,e=>{e instanceof o.d&&401===e.status&&(localStorage.removeItem("token"),this._router.navigate(["/auth"]))})}getResult(){this.resultService.getResultById(+this.resultForm.value.studentId).subscribe(e=>this.resultlist=e,e=>{e instanceof o.d&&401===e.status&&(localStorage.removeItem("token"),this._router.navigate(["/auth"]))})}deleteResult(e){this.resultService.deleteResult(e).subscribe(e=>{this.showSuccess(e)},e=>{this.showError(e)}),this.getResult()}onSubmit(){this.mapFormValueToCourseModel(),this.resultService.addResult(this.result).subscribe(e=>{this.showSuccess("Marks added successfully"),this.getResult()},e=>{console.error(e),this.showError("Error while adding data")})}mapFormValueToCourseModel(){this.result.ResultId=0,this.result.ExamType=this.resultForm.value.examType,this.result.SubjectName=this.resultForm.value.subjectId,this.result.MarksScored=this.resultForm.value.marksScored,this.result.TotalMarks=this.resultForm.value.totalMarks,this.result.StudentId=this.resultForm.value.studentId,console.log(this.resultForm.value)}logValidationErrors(e=this.resultForm){Object.keys(e.controls).forEach(t=>{const r=e.get(t);if(r instanceof h.d)this.logValidationErrors(r);else if(this.formErrors[t]="",r&&!r.valid&&(r.touched||r.dirty)){const e=this.validationMessages[t];for(const s in r.errors)s&&(this.formErrors[t]+=e[s]+" ")}})}showSuccess(e){this.messageService.add({severity:"success",summary:"Success",detail:e})}showError(e){this.messageService.add({severity:"error",summary:"Error",detail:e})}}return e.\u0275fac=function(t){return new(t||e)(c.Ib(g.a),c.Ib(b.a),c.Ib(Y.a),c.Ib(I.a),c.Ib(N.a),c.Ib(h.b),c.Ib(v.g),c.Ib(a.b))},e.\u0275cmp=c.Cb({type:e,selectors:[["app-result"]],decls:102,vars:51,consts:[[1,"p-m-5"],[2,"font-size","18px","font-weight","bold","margin-right","5px"],[3,"formGroup","ngSubmit"],[1,"p-fluid","p-formgrid","p-grid"],[1,"p-field","p-col-12","p-lg-2"],["for","courseId"],["id","courseId","aria-describedby","courseId-help","placeholder","Select a Course","optionLabel","CourseName","optionValue","CourseId","formControlName","courseId",3,"options","showClear","ngClass","onChange","blur"],["id","courseId-help","class","p-error",4,"ngIf"],["for","subjectId"],["id","subjectId","aria-describedby","subjectId-help","placeholder","Select Subject","optionLabel","SubjectName","optionValue","SubjectName","formControlName","subjectId",3,"options","showClear","ngClass","blur"],["id","subjectId-help","class","p-error",4,"ngIf"],["for","semester"],["id","semester","aria-describedby","semester-help","placeholder","Select Semester","optionLabel","no","optionValue","no","formControlName","semester",3,"options","showClear","ngClass","onChange","blur"],["id","semester-help","class","p-error",4,"ngIf"],["for","studentId"],["id","studentId","aria-describedby","studentId-help","placeholder","Select Student","optionLabel","Name","optionValue","StudentId","formControlName","studentId",3,"options","showClear","ngClass","blur"],["id","studentId-help","class","p-error",4,"ngIf"],["pButton","","type","button","label","Show previous score","pRipple","",1,"p-button","p-button-success",3,"click"],[1,"p-field","p-col-12","p-lg-4"],["for","examType"],["id","examType",1,"p-formgroup-inline"],[1,"p-field-checkbox"],["inputId","type1","name","examType","value","IT","formControlName","examType"],["for","type1"],["inputId","type2","name","examType","value","ET","formControlName","examType"],["for","type2"],["inputId","type3","name","examType","value","EP","formControlName","examType"],["for","type3"],["for","marksScored"],["id","marksScored","type","number","aria-describedby","marksScored-help","autocomplete","off","min","0","pInputText","","formControlName","marksScored",1,"p-inputtext-sm",3,"ngClass","blur"],["id","marksScored-help","class","p-error",4,"ngIf"],["for","totalMarks"],["id","totalMarks","type","number","aria-describedby","totalMarks-help","autocomplete","off","min","1","pInputText","","formControlName","totalMarks",1,"p-inputtext-sm",3,"ngClass","blur"],["id","totalMarks-help","class","p-error",4,"ngIf"],["pButton","","type","submit","label","Add score","icon","pi pi-plus","pRipple","",1,"p-button",2,"text-align","center",3,"disabled"],["header","Internal Exam Result"],[1,"p-fluid","p-grid"],[1,"p-col-12","p-lg-4"],[1,"p-col-12","p-lg-2"],[4,"ngFor","ngForOf"],["header","External Theory Result"],["header","External Practical Result"],["id","courseId-help",1,"p-error"],["id","subjectId-help",1,"p-error"],["id","semester-help",1,"p-error"],["id","studentId-help",1,"p-error"],["id","marksScored-help",1,"p-error"],["id","totalMarks-help",1,"p-error"],["class","p-fluid p-grid",4,"ngIf"],["pButton","","pRipple","","type","button","icon","pi pi-trash",1,"p-button-rounded","p-button-text","p-button-danger","p-inputtext-sm",3,"click"]],template:function(e,t){1&e&&(c.Ob(0,"p-card",0),c.Ob(1,"div"),c.Ob(2,"h2"),c.Jb(3,"i",1),c.Bc(4," Add Result Data "),c.Nb(),c.Nb(),c.Ob(5,"form",2),c.Vb("ngSubmit",function(){return t.onSubmit()}),c.Ob(6,"div",3),c.Ob(7,"div",4),c.Ob(8,"label",5),c.Bc(9,"Course"),c.Nb(),c.Ob(10,"p-dropdown",6),c.Vb("onChange",function(){return t.getSubjectById()})("blur",function(){return t.logValidationErrors()}),c.Nb(),c.zc(11,K,2,1,"small",7),c.Nb(),c.Ob(12,"div",4),c.Ob(13,"label",8),c.Bc(14,"Subject"),c.Nb(),c.Ob(15,"p-dropdown",9),c.Vb("blur",function(){return t.logValidationErrors()}),c.Nb(),c.zc(16,Z,2,1,"small",10),c.Nb(),c.Ob(17,"div",4),c.Ob(18,"label",11),c.Bc(19,"Semester"),c.Nb(),c.Ob(20,"p-dropdown",12),c.Vb("onChange",function(){return t.getStudentlist()})("blur",function(){return t.logValidationErrors()}),c.Nb(),c.zc(21,H,2,1,"small",13),c.Nb(),c.Ob(22,"div",4),c.Ob(23,"label",14),c.Bc(24,"Student"),c.Nb(),c.Ob(25,"p-dropdown",15),c.Vb("blur",function(){return t.logValidationErrors()}),c.Nb(),c.zc(26,Q,2,1,"small",16),c.Nb(),c.Ob(27,"div",4),c.Ob(28,"label"),c.Bc(29,"Show previous score"),c.Nb(),c.Ob(30,"button",17),c.Vb("click",function(){return t.getResult()}),c.Nb(),c.Nb(),c.Ob(31,"div",18),c.Ob(32,"label",19),c.Bc(33,"Exam Type"),c.Nb(),c.Ob(34,"div",20),c.Ob(35,"div",21),c.Jb(36,"p-radioButton",22),c.Ob(37,"label",23),c.Bc(38,"Internal"),c.Nb(),c.Nb(),c.Ob(39,"div",21),c.Jb(40,"p-radioButton",24),c.Ob(41,"label",25),c.Bc(42,"External Theory"),c.Nb(),c.Nb(),c.Ob(43,"div",21),c.Jb(44,"p-radioButton",26),c.Ob(45,"label",27),c.Bc(46,"Practical"),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Ob(47,"div",4),c.Ob(48,"label",28),c.Bc(49,"Marks Scored"),c.Nb(),c.Ob(50,"input",29),c.Vb("blur",function(){return t.logValidationErrors()}),c.Nb(),c.zc(51,W,2,1,"small",30),c.Nb(),c.Ob(52,"div",4),c.Ob(53,"label",31),c.Bc(54,"Total Marks"),c.Nb(),c.Ob(55,"input",32),c.Vb("blur",function(){return t.logValidationErrors()}),c.Nb(),c.zc(56,ee,2,1,"small",33),c.Nb(),c.Ob(57,"div",4),c.Ob(58,"label"),c.Bc(59,"Add new score"),c.Nb(),c.Jb(60,"button",34),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Jb(61,"br"),c.Ob(62,"p-card",35),c.Ob(63,"div",36),c.Ob(64,"div",37),c.Ob(65,"b"),c.Bc(66,"Subject"),c.Nb(),c.Nb(),c.Ob(67,"div",38),c.Ob(68,"b"),c.Bc(69,"Marks Scored"),c.Nb(),c.Nb(),c.Ob(70,"div",38),c.Ob(71,"b"),c.Bc(72,"Total Scored"),c.Nb(),c.Nb(),c.Jb(73,"div",38),c.Nb(),c.zc(74,re,2,1,"div",39),c.Nb(),c.Ob(75,"p-card",40),c.Ob(76,"div",36),c.Ob(77,"div",37),c.Ob(78,"b"),c.Bc(79,"Subject"),c.Nb(),c.Nb(),c.Ob(80,"div",38),c.Ob(81,"b"),c.Bc(82,"Marks Scored"),c.Nb(),c.Nb(),c.Ob(83,"div",38),c.Ob(84,"b"),c.Bc(85,"Total Scored"),c.Nb(),c.Nb(),c.Jb(86,"div",38),c.Nb(),c.zc(87,ie,2,1,"div",39),c.Nb(),c.Ob(88,"p-card",41),c.Ob(89,"div",36),c.Ob(90,"div",37),c.Ob(91,"b"),c.Bc(92,"Subject"),c.Nb(),c.Nb(),c.Ob(93,"div",38),c.Ob(94,"b"),c.Bc(95,"Marks Scored"),c.Nb(),c.Nb(),c.Ob(96,"div",38),c.Ob(97,"b"),c.Bc(98,"Total Scored"),c.Nb(),c.Nb(),c.Jb(99,"div",38),c.Nb(),c.zc(100,ne,2,1,"div",39),c.Nb(),c.Jb(101,"p-toast")),2&e&&(c.xc(c.hc(35,ae)),c.xb(3),c.zb(t.icon),c.xb(2),c.ec("formGroup",t.resultForm),c.xb(5),c.ec("options",t.courselist)("showClear",!0)("ngClass",c.ic(36,ce,t.formErrors.courseId)),c.xb(1),c.ec("ngIf",t.formErrors.courseId),c.xb(4),c.ec("options",t.subjectlist)("showClear",!0)("ngClass",c.ic(38,ce,t.formErrors.subjectId)),c.xb(1),c.ec("ngIf",t.formErrors.subjectId),c.xb(4),c.ec("options",t.semesterlist)("showClear",!0)("ngClass",c.ic(40,ce,t.formErrors.semester)),c.xb(1),c.ec("ngIf",t.formErrors.semester),c.xb(4),c.ec("options",t.studentlist)("showClear",!0)("ngClass",c.ic(42,ce,t.formErrors.studentId)),c.xb(1),c.ec("ngIf",t.formErrors.studentId),c.xb(24),c.ec("ngClass",c.ic(44,ce,t.formErrors.marksScored)),c.xb(1),c.ec("ngIf",t.formErrors.marksScored),c.xb(4),c.ec("ngClass",c.ic(46,ce,t.formErrors.totalMarks)),c.xb(1),c.ec("ngIf",t.formErrors.totalMarks),c.xb(4),c.ec("disabled",t.resultForm.invalid),c.xb(2),c.xc(c.hc(48,ae)),c.xb(12),c.ec("ngForOf",t.resultlist),c.xb(1),c.xc(c.hc(49,ae)),c.xb(12),c.ec("ngForOf",t.resultlist),c.xb(1),c.xc(c.hc(50,ae)),c.xb(12),c.ec("ngForOf",t.resultlist))},directives:[u.a,h.o,h.j,h.e,S.a,h.i,h.c,s.i,s.k,C.b,x.a,U.a,h.l,h.a,B.a,s.j,E.a],styles:[""]}),e})();var be=r("Dnfh"),ue=r("zFJ7");function de(e,t){if(1&e&&(c.Ob(0,"small",33),c.Bc(1),c.Nb()),2&e){const e=c.Xb();c.xb(1),c.Dc(" ",e.formErrors.courseId," ")}}function me(e,t){if(1&e&&(c.Ob(0,"small",34),c.Bc(1),c.Nb()),2&e){const e=c.Xb();c.xb(1),c.Dc(" ",e.formErrors.semester," ")}}function pe(e,t){if(1&e&&(c.Ob(0,"small",35),c.Bc(1),c.Nb()),2&e){const e=c.Xb();c.xb(1),c.Dc(" ",e.formErrors.date,"")}}function he(e,t){if(1&e&&(c.Ob(0,"small",36),c.Bc(1),c.Nb()),2&e){const e=c.Xb();c.xb(1),c.Dc(" ",e.formErrors.title,"")}}function fe(e,t){if(1&e&&(c.Ob(0,"small",37),c.Bc(1),c.Nb()),2&e){const e=c.Xb();c.xb(1),c.Dc(" ",e.formErrors.description,"")}}function ge(e,t){if(1&e&&(c.Ob(0,"small",38),c.Bc(1),c.Nb()),2&e){const e=c.Xb();c.xb(1),c.Dc(" ",e.formErrors.registrationLink,"")}}function Ne(e,t){if(1&e){const e=c.Pb();c.Ob(0,"div",39),c.Ob(1,"h5",40),c.Bc(2,"Placement Details"),c.Nb(),c.Ob(3,"span",41),c.Jb(4,"i",42),c.Ob(5,"input",43),c.Vb("input",function(t){return c.sc(e),c.Xb(),c.rc(41).filterGlobal(t.target.value,"contains")}),c.Nb(),c.Nb(),c.Nb()}}function Ie(e,t){1&e&&(c.Ob(0,"colgroup"),c.Jb(1,"col",44),c.Jb(2,"col",44),c.Jb(3,"col",44),c.Jb(4,"col",45),c.Jb(5,"col",45),c.Jb(6,"col",45),c.Nb())}function ve(e,t){1&e&&(c.Ob(0,"tr"),c.Ob(1,"th",46),c.Bc(2,"Id"),c.Jb(3,"p-sortIcon",47),c.Nb(),c.Ob(4,"th",48),c.Bc(5,"Date"),c.Jb(6,"p-sortIcon",49),c.Nb(),c.Ob(7,"th",50),c.Bc(8,"Semester"),c.Jb(9,"p-sortIcon",51),c.Nb(),c.Ob(10,"th",52),c.Bc(11,"Title"),c.Jb(12,"p-sortIcon",53),c.Nb(),c.Ob(13,"th",54),c.Bc(14,"Description"),c.Jb(15,"p-sortIcon",55),c.Nb(),c.Ob(16,"th"),c.Bc(17,"RegistrationLink "),c.Nb(),c.Nb())}function Se(e,t){if(1&e&&(c.Ob(0,"tr"),c.Ob(1,"td"),c.Bc(2),c.Nb(),c.Ob(3,"td"),c.Bc(4),c.Yb(5,"date"),c.Nb(),c.Ob(6,"td"),c.Bc(7),c.Nb(),c.Ob(8,"td"),c.Bc(9),c.Nb(),c.Ob(10,"td"),c.Bc(11),c.Nb(),c.Ob(12,"td"),c.Ob(13,"a",56),c.Bc(14),c.Nb(),c.Nb(),c.Nb()),2&e){const e=t.$implicit;c.xb(2),c.Cc(e.PlacementId),c.xb(2),c.Cc(c.ac(5,7,e.date,"dd/MM/yyyy")),c.xb(3),c.Cc(e.Semester),c.xb(2),c.Cc(e.Title),c.xb(2),c.Cc(e.Description),c.xb(2),c.fc("href",e.RegistrationLink,c.uc),c.xb(1),c.Cc(e.RegistrationLink)}}function Oe(e,t){1&e&&(c.Ob(0,"tr"),c.Ob(1,"td",57),c.Bc(2,"No Data found."),c.Nb(),c.Nb())}const Ce=function(){return{width:"auto"}},xe=function(e){return{"ng-invalid ng-dirty":e}},ye=function(){return["PlacementId","date","Semester","Title","Description"]};let Ee=(()=>{class e{constructor(e,t,r,s,i){this.courseService=e,this.placementService=t,this.fb=r,this.messageService=s,this._router=i,this.icon="pi pi-plus",this.validationMessages={courseId:{required:"Course Name is required"},semester:{required:"Semester is required"},date:{required:"Date is required"},title:{required:"Title is required",maxLength:"Title must be less than 50 character"},description:{maxLength:"Description must be less than 200 character"},registrationLink:{maxLength:"Registration Link must be less than 50 character"}},this.formErrors={courseId:"",semester:"",date:"",title:"",description:"",registrationLink:""},this.semesterlist=[{no:1},{no:2},{no:3},{no:4},{no:5},{no:6}]}ngOnInit(){this.pForm=this.fb.group({courseId:["",h.n.required],semester:["",h.n.required],date:["",h.n.required],title:["",[h.n.required,h.n.maxLength(50)]],description:["",[h.n.maxLength(200)]],registrationLink:["",[h.n.maxLength(50)]]}),this.pForm.valueChanges.subscribe(e=>{this.logValidationErrors(this.pForm)}),this.getCourse(),this.placement={PlacementId:0,date:null,Semester:0,Title:null,Description:null,RegistrationLink:null,CourseId:0,FacultyId:0}}getCourse(){this.courseService.getCourse().subscribe(e=>this.courselist=e,e=>{e instanceof o.d&&401===e.status&&(localStorage.removeItem("token"),this._router.navigate(["/auth"]))})}getPlacementDetail(){this.placementService.getPlacementDetail(this.pForm.value.courseId,this.pForm.value.semester).subscribe(e=>this.placementlist=e,e=>{})}onSubmit(){this.mapFormValueToCourseModel(),this.placementService.addPlacement(this.placement).subscribe(e=>{this.showSuccess("Placement Details added successfully")},e=>{console.error(e),this.showError("Error while adding Placement Details")})}mapFormValueToCourseModel(){console.log(this.pForm.value),this.placement.PlacementId=0,this.placement.date=Object(f.a)(this.pForm.value.date),this.placement.Semester=this.pForm.value.semester,this.placement.Title=this.pForm.value.title,this.placement.Description=this.pForm.value.description,this.placement.RegistrationLink=this.pForm.value.registrationLink,this.placement.CourseId=this.pForm.value.courseId,this.placement.FacultyId=+localStorage.getItem("id"),console.log(this.placement)}logValidationErrors(e=this.pForm){Object.keys(e.controls).forEach(t=>{const r=e.get(t);if(r instanceof h.d)this.logValidationErrors(r);else if(this.formErrors[t]="",r&&!r.valid&&(r.touched||r.dirty)){const e=this.validationMessages[t];for(const s in r.errors)s&&(this.formErrors[t]+=e[s]+" ")}})}showSuccess(e){this.messageService.add({severity:"success",summary:"Success",detail:e}),this.getPlacementDetail(),this.pForm.reset()}showError(e){this.messageService.add({severity:"error",summary:"Error",detail:e})}}return e.\u0275fac=function(t){return new(t||e)(c.Ib(I.a),c.Ib(be.a),c.Ib(h.b),c.Ib(v.g),c.Ib(a.b))},e.\u0275cmp=c.Cb({type:e,selectors:[["app-placement"]],decls:48,vars:44,consts:[[1,"p-m-5"],[2,"font-size","18px","font-weight","bold","margin-right","5px"],[3,"formGroup","ngSubmit"],[1,"p-fluid","p-formgrid","p-grid"],[1,"p-field","p-col-12","p-md-2"],["for","courseId"],["id","courseId","aria-describedby","courseId-help","placeholder","Select a Course","optionLabel","CourseName","optionValue","CourseId","formControlName","courseId",3,"options","showClear","ngClass","blur"],["id","courseId-help","class","p-error",4,"ngIf"],["for","semester"],["id","semester","aria-describedby","semester-help","placeholder","Select Semester","optionLabel","no","optionValue","no","formControlName","semester",3,"options","showClear","ngClass","blur"],["id","semester-help","class","p-error",4,"ngIf"],["for","date"],["id","date","formControlName","date","dateFormat","dd-mm-yy","showButtonBar","true","yearRange","1990:2025",3,"ngClass","showIcon","monthNavigator","yearNavigator","blur"],["id","date-help","class","p-error",4,"ngIf"],[1,"p-field","p-col-12","p-md-3"],["for","title"],["id","title","type","text","aria-describedby","title-help","autocomplete","off","pInputText","","formControlName","title",1,"p-inputtext-sm",3,"ngClass","blur"],["id","title-help","class","p-error",4,"ngIf"],[1,"p-field","p-col-12","p-md-6"],["for","description"],["id","description","aria-describedby","description-help","pInputTextarea","","autoResize","autoResize","formControlName","description",3,"rows","cols","ngClass","blur"],["id","description-help","class","p-error",4,"ngIf"],["for","registrationLink"],["id","registrationLink","type","text","aria-describedby","registrationLink-help","autocomplete","off","pInputText","","formControlName","registrationLink",1,"p-inputtext-sm",3,"ngClass","blur"],["id","registrationLink-help","class","p-error",4,"ngIf"],["pButton","","type","submit","label","Add Placement","pRipple","",1,"p-button","p-mr-4",3,"disabled"],["styleClass","p-datatable-sm p-datatable-striped","sortMode","multiple","dataKey","id","scrollHeight","400px","selectionMode","single",3,"value","scrollable","globalFilterFields"],["dt1",""],["pTemplate","caption"],["pTemplate","colgroup"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["id","courseId-help",1,"p-error"],["id","semester-help",1,"p-error"],["id","date-help",1,"p-error"],["id","title-help",1,"p-error"],["id","description-help",1,"p-error"],["id","registrationLink-help",1,"p-error"],[1,"p-d-flex","p-ai-center","p-jc-between"],[1,"p-m-0"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"],[2,"width","100px"],[2,"width","200px"],["pSortableColumn","PlacementId"],["field","PlacementId"],["pSortableColumn","date"],["field","date"],["pSortableColumn","Semester"],["field","Semester"],["pSortableColumn","Title"],["field","Title"],["pSortableColumn","Description"],["field","Description"],["target","_blank",3,"href"],["colspan","4"]],template:function(e,t){1&e&&(c.Ob(0,"p-card",0),c.Ob(1,"div"),c.Ob(2,"h2"),c.Jb(3,"i",1),c.Bc(4," Add Placement Details "),c.Nb(),c.Nb(),c.Ob(5,"form",2),c.Vb("ngSubmit",function(){return t.onSubmit()}),c.Ob(6,"div",3),c.Ob(7,"div",4),c.Ob(8,"label",5),c.Bc(9,"Course"),c.Nb(),c.Ob(10,"p-dropdown",6),c.Vb("blur",function(){return t.logValidationErrors()}),c.Nb(),c.zc(11,de,2,1,"small",7),c.Nb(),c.Ob(12,"div",4),c.Ob(13,"label",8),c.Bc(14,"Semester"),c.Nb(),c.Ob(15,"p-dropdown",9),c.Vb("blur",function(){return t.logValidationErrors()}),c.Nb(),c.zc(16,me,2,1,"small",10),c.Nb(),c.Ob(17,"div",4),c.Ob(18,"label",11),c.Bc(19,"Date"),c.Nb(),c.Ob(20,"p-calendar",12),c.Vb("blur",function(){return t.logValidationErrors()}),c.Nb(),c.zc(21,pe,2,1,"small",13),c.Nb(),c.Ob(22,"div",14),c.Ob(23,"label",15),c.Bc(24,"Title"),c.Nb(),c.Ob(25,"input",16),c.Vb("blur",function(){return t.logValidationErrors()}),c.Nb(),c.zc(26,he,2,1,"small",17),c.Nb(),c.Ob(27,"div",18),c.Ob(28,"label",19),c.Bc(29,"Description"),c.Nb(),c.Ob(30,"textarea",20),c.Vb("blur",function(){return t.logValidationErrors()}),c.Nb(),c.zc(31,fe,2,1,"small",21),c.Nb(),c.Ob(32,"div",14),c.Ob(33,"label",22),c.Bc(34,"Registration Link"),c.Nb(),c.Ob(35,"input",23),c.Vb("blur",function(){return t.logValidationErrors()}),c.Nb(),c.zc(36,ge,2,1,"small",24),c.Nb(),c.Nb(),c.Jb(37,"button",25),c.Nb(),c.Nb(),c.Jb(38,"br"),c.Ob(39,"p-card"),c.Ob(40,"p-table",26,27),c.zc(42,Ne,6,0,"ng-template",28),c.zc(43,Ie,7,0,"ng-template",29),c.zc(44,ve,18,0,"ng-template",30),c.zc(45,Se,15,10,"ng-template",31),c.zc(46,Oe,3,0,"ng-template",32),c.Nb(),c.Nb(),c.Jb(47,"p-toast")),2&e&&(c.xc(c.hc(30,Ce)),c.xb(3),c.zb(t.icon),c.xb(2),c.ec("formGroup",t.pForm),c.xb(5),c.ec("options",t.courselist)("showClear",!0)("ngClass",c.ic(31,xe,t.formErrors.courseId)),c.xb(1),c.ec("ngIf",t.formErrors.courseId),c.xb(4),c.ec("options",t.semesterlist)("showClear",!0)("ngClass",c.ic(33,xe,t.formErrors.semester)),c.xb(1),c.ec("ngIf",t.formErrors.semester),c.xb(4),c.ec("ngClass",c.ic(35,xe,t.formErrors.date))("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0),c.xb(1),c.ec("ngIf",t.formErrors.date),c.xb(4),c.ec("ngClass",c.ic(37,xe,t.formErrors.title)),c.xb(1),c.ec("ngIf",t.formErrors.title),c.xb(4),c.ec("rows",2)("cols",30)("ngClass",c.ic(39,xe,t.formErrors.description)),c.xb(1),c.ec("ngIf",t.formErrors.description),c.xb(4),c.ec("ngClass",c.ic(41,xe,t.formErrors.registrationLink)),c.xb(1),c.ec("ngIf",t.formErrors.registrationLink),c.xb(1),c.ec("disabled",t.pForm.invalid),c.xb(3),c.ec("value",t.placementlist)("scrollable",!0)("globalFilterFields",c.hc(43,ye)))},directives:[u.a,h.o,h.j,h.e,S.a,h.i,h.c,s.i,s.k,O.a,h.a,B.a,ue.a,C.b,x.a,y.c,v.i,E.a,y.b,y.a],pipes:[s.d],styles:[""]}),e})();var Be=r("SwF3");function ke(e,t){if(1&e&&(c.Ob(0,"small",32),c.Bc(1),c.Nb()),2&e){const e=c.Xb();c.xb(1),c.Dc(" ",e.formErrors.CourseId," ")}}function De(e,t){if(1&e&&(c.Ob(0,"small",33),c.Bc(1),c.Nb()),2&e){const e=c.Xb();c.xb(1),c.Dc(" ",e.formErrors.SubjectId," ")}}function we(e,t){if(1&e&&(c.Ob(0,"small",34),c.Bc(1),c.Nb()),2&e){const e=c.Xb();c.xb(1),c.Dc(" ",e.formErrors.Semester," ")}}function Fe(e,t){if(1&e&&(c.Ob(0,"small",35),c.Bc(1),c.Nb()),2&e){const e=c.Xb();c.xb(1),c.Dc(" ",e.formErrors.AssignmentDate,"")}}function je(e,t){if(1&e&&(c.Ob(0,"small",36),c.Bc(1),c.Nb()),2&e){const e=c.Xb();c.xb(1),c.Dc(" ",e.formErrors.DueDate,"")}}function Ve(e,t){if(1&e&&(c.Ob(0,"small",37),c.Bc(1),c.Nb()),2&e){const e=c.Xb();c.xb(1),c.Dc(" ",e.formErrors.Name,"")}}function Me(e,t){if(1&e&&(c.Ob(0,"small",38),c.Bc(1),c.Nb()),2&e){const e=c.Xb();c.xb(1),c.Dc(" ",e.formErrors.TotalMarks," ")}}const Te=function(){return{margin:"20px"}};function Ae(e,t){if(1&e){const e=c.Pb();c.Ob(0,"p-card",39),c.Ob(1,"div",40),c.Ob(2,"div",41),c.Bc(3),c.Nb(),c.Ob(4,"div",41),c.Bc(5),c.Yb(6,"date"),c.Nb(),c.Ob(7,"div",41),c.Bc(8),c.Nb(),c.Ob(9,"div",41),c.Bc(10),c.Yb(11,"date"),c.Nb(),c.Ob(12,"div",41),c.Bc(13),c.Nb(),c.Ob(14,"div",42),c.Ob(15,"button",43),c.Vb("click",function(){c.sc(e);const r=t.$implicit;return c.Xb().viewSubmission(r.AssignmentId)}),c.Nb(),c.Nb(),c.Nb(),c.Nb()}if(2&e){const e=t.$implicit;c.xc(c.hc(14,Te)),c.fc("header","Assignment : "+e.AssignmentId),c.xb(3),c.Dc(" Title : ",e.Name," "),c.xb(2),c.Dc(" Assignment Date : ",c.ac(6,8,e.AssignmentDate,"dd/MM/yyyy")," "),c.xb(3),c.Dc(" Description : ",e.Description," "),c.xb(2),c.Dc(" Due Date : ",c.ac(11,11,e.DueDate,"dd/MM/yyyy")," "),c.xb(3),c.Dc(" TotalMarks : ",e.TotalMarks," ")}}const qe=function(){return{width:"auto",margin:"10px"}},ze=function(e){return{"ng-invalid ng-dirty":e}};let Je=(()=>{class e{constructor(e,t,r,s,i,o,n){this.subjectService=e,this.facultyService=t,this.courseService=r,this.fb=s,this.messageService=i,this._router=o,this.assignmentService=n,this.icon="pi pi-plus",this.validationMessages={AssignmentDate:{required:"Assignment Date is required"},Name:{required:"Name is required"},DueDate:{required:"Due Date is required"},TotalMarks:{required:"Total Marks is required"},CourseId:{required:"Course is required"},Semester:{required:"Semester is required"},SubjectId:{required:"Subject is required"}},this.formErrors={AssignmentDate:"",Name:"",DueDate:"",TotalMarks:"",CourseId:"",Semester:"",SubjectId:""},this.semesterlist=[{no:1},{no:2},{no:3},{no:4},{no:5},{no:6}]}ngOnInit(){this.aForm=this.fb.group({AssignmentDate:["",h.n.required],Name:["",[h.n.required,h.n.maxLength(30)]],Description:[""],DueDate:["",h.n.required],TotalMarks:["",h.n.required],CourseId:["",h.n.required],Semester:["",h.n.required],SubjectId:["",h.n.required]}),this.aForm.valueChanges.subscribe(e=>{this.logValidationErrors(this.aForm)}),this.getCourse(),this.assignment={AssignmentId:0,AssignmentDate:null,Name:null,Description:null,DueDate:null,TotalMarks:0,CourseId:0,Semester:0,FacultyId:0,SubjectId:0}}getCourse(){this.courseService.getCourse().subscribe(e=>this.courselist=e,e=>{e instanceof o.d&&401===e.status&&(localStorage.removeItem("token"),this._router.navigate(["/auth"]))})}getSubjectById(){this.getSubject()}getAssignmentByFacultyId(){this.assignmentService.getAssignmentByFacultyId(+localStorage.getItem("id"),+this.aForm.value.CourseId,+this.aForm.value.SubjectId,+this.aForm.value.Semester).subscribe(e=>{this.assignmentlist=e},e=>{e instanceof o.d&&401===e.status&&(localStorage.removeItem("token"),this._router.navigate(["/auth"]))})}getSubject(){this.subjectService.getSubjectByCourseId(+this.aForm.value.CourseId).subscribe(e=>this.subjectlist=e,e=>{e instanceof o.d&&401===e.status&&(localStorage.removeItem("token"),this._router.navigate(["/auth"]))})}onSubmit(){this.mapFormValueToCourseModel(),this.assignmentService.addAssignmemt(this.assignment).subscribe(e=>{this.showSuccess("Assignment creted succesfully")},e=>{console.error(e),this.showError("Error while creating assignment")})}mapFormValueToCourseModel(){console.log(this.aForm.value),this.assignment.AssignmentId=0,this.assignment.AssignmentDate=Object(f.a)(this.aForm.value.AssignmentDate),this.assignment.Name=this.aForm.value.Name,this.assignment.Description=this.aForm.value.Description,this.assignment.DueDate=this.aForm.value.DueDate,this.assignment.TotalMarks=this.aForm.value.TotalMarks,this.assignment.CourseId=this.aForm.value.CourseId,this.assignment.Semester=this.aForm.value.Semester,this.assignment.FacultyId=+localStorage.getItem("id"),this.assignment.SubjectId=this.aForm.value.SubjectId}logValidationErrors(e=this.aForm){Object.keys(e.controls).forEach(t=>{const r=e.get(t);if(r instanceof h.d)this.logValidationErrors(r);else if(this.formErrors[t]="",r&&!r.valid&&(r.touched||r.dirty)){const e=this.validationMessages[t];for(const s in r.errors)s&&(this.formErrors[t]+=e[s]+" ")}})}showSuccess(e){this.messageService.add({severity:"success",summary:"Success",detail:e}),this.getAssignmentByFacultyId()}showError(e){this.messageService.add({severity:"error",summary:"Error",detail:e})}viewSubmission(e){this._router.navigate(["/faculty/view-submission",e])}}return e.\u0275fac=function(t){return new(t||e)(c.Ib(g.a),c.Ib(b.a),c.Ib(I.a),c.Ib(h.b),c.Ib(v.g),c.Ib(a.b),c.Ib(Be.a))},e.\u0275cmp=c.Cb({type:e,selectors:[["app-assignment"]],decls:57,vars:50,consts:[[2,"font-size","18px","font-weight","bold","margin-right","5px"],[3,"formGroup","ngSubmit"],[1,"p-fluid","p-formgrid","p-grid"],[1,"p-field","p-col-12","p-md-3"],["for","CourseId"],["id","CourseId","aria-describedby","CourseId-help","placeholder","Select a Course","optionLabel","CourseName","optionValue","CourseId","formControlName","CourseId",3,"options","showClear","ngClass","onChange","blur"],["id","CourseId-help","class","p-error",4,"ngIf"],["for","SubjectId"],["id","SubjectId","aria-describedby","SubjectId-help","placeholder","Select Subject","optionLabel","SubjectName","optionValue","SubjectId","formControlName","SubjectId",3,"options","showClear","ngClass","blur"],["id","SubjectId-help","class","p-error",4,"ngIf"],["for","Semester"],["id","Semester","aria-describedby","Semester-help","placeholder","Select Semester","optionLabel","no","optionValue","no","formControlName","Semester",3,"options","showClear","ngClass","blur"],["id","Semester-help","class","p-error",4,"ngIf"],["pButton","","type","button","label","View Previous Assignment","pRipple","",1,"p-button","p-button-success",3,"click"],["for","AssignmentDate"],["id","AssignmentDate","formControlName","AssignmentDate","dateFormat","dd-mm-yy","showButtonBar","true","yearRange","1990:2025",3,"ngClass","showIcon","monthNavigator","yearNavigator","blur"],["id","AssignmentDate-help","class","p-error",4,"ngIf"],["for","DueDate"],["id","DueDate","formControlName","DueDate","dateFormat","dd-mm-yy","showButtonBar","true","yearRange","1990:2025",3,"ngClass","showIcon","monthNavigator","yearNavigator","blur"],["id","DueDate-help","class","p-error",4,"ngIf"],["for","Name"],["id","Name","type","text","aria-describedby","Name-help","autocomplete","off","pInputText","","formControlName","Name",1,"p-inputtext-sm",3,"ngClass","blur"],["id","Name-help","class","p-error",4,"ngIf"],["for","Description"],["id","Description","pInputTextarea","","autoResize","autoResize","formControlName","Description",3,"rows","cols"],[1,"p-field","p-col-12","p-lg-3"],["for","TotalMarks"],["id","TotalMarks","type","number","aria-describedby","TotalMarks-help","autocomplete","off","min","1","pInputText","","formControlName","TotalMarks",1,"p-inputtext-sm",3,"ngClass","blur"],["id","TotalMarks-help","class","p-error",4,"ngIf"],[1,"p-field","p-col-12","p-lg-2"],["pButton","","type","submit","label","Create Assignment","pRipple","",1,"p-button","p-mr-4",3,"disabled"],[3,"header","style",4,"ngFor","ngForOf"],["id","CourseId-help",1,"p-error"],["id","SubjectId-help",1,"p-error"],["id","Semester-help",1,"p-error"],["id","AssignmentDate-help",1,"p-error"],["id","DueDate-help",1,"p-error"],["id","Name-help",1,"p-error"],["id","TotalMarks-help",1,"p-error"],[3,"header"],[1,"p-fluid","p-grid"],[1,"p-col-12","p-lg-4","p-md-6"],[1,"p-col-12","p-lg-2","p-md-6"],["pButton","","type","button","label","View Submission","pRipple","",1,"p-button","p-button-warning",3,"click"]],template:function(e,t){1&e&&(c.Ob(0,"p-card"),c.Ob(1,"div"),c.Ob(2,"h2"),c.Jb(3,"i",0),c.Bc(4," Create New Assignment "),c.Nb(),c.Nb(),c.Ob(5,"form",1),c.Vb("ngSubmit",function(){return t.onSubmit()}),c.Ob(6,"div",2),c.Ob(7,"div",3),c.Ob(8,"label",4),c.Bc(9,"Course"),c.Nb(),c.Ob(10,"p-dropdown",5),c.Vb("onChange",function(){return t.getSubjectById()})("blur",function(){return t.logValidationErrors()}),c.Nb(),c.zc(11,ke,2,1,"small",6),c.Nb(),c.Ob(12,"div",3),c.Ob(13,"label",7),c.Bc(14,"Subject"),c.Nb(),c.Ob(15,"p-dropdown",8),c.Vb("blur",function(){return t.logValidationErrors()}),c.Nb(),c.zc(16,De,2,1,"small",9),c.Nb(),c.Ob(17,"div",3),c.Ob(18,"label",10),c.Bc(19,"Semester"),c.Nb(),c.Ob(20,"p-dropdown",11),c.Vb("blur",function(){return t.logValidationErrors()}),c.Nb(),c.zc(21,we,2,1,"small",12),c.Nb(),c.Ob(22,"div",3),c.Ob(23,"label"),c.Bc(24,"View Previous Assignment"),c.Nb(),c.Ob(25,"button",13),c.Vb("click",function(){return t.getAssignmentByFacultyId()}),c.Nb(),c.Nb(),c.Ob(26,"div",3),c.Ob(27,"label",14),c.Bc(28,"Assignment Date"),c.Nb(),c.Ob(29,"p-calendar",15),c.Vb("blur",function(){return t.logValidationErrors()}),c.Nb(),c.zc(30,Fe,2,1,"small",16),c.Nb(),c.Ob(31,"div",3),c.Ob(32,"label",17),c.Bc(33,"Due Date"),c.Nb(),c.Ob(34,"p-calendar",18),c.Vb("blur",function(){return t.logValidationErrors()}),c.Nb(),c.zc(35,je,2,1,"small",19),c.Nb(),c.Ob(36,"div",3),c.Ob(37,"label",20),c.Bc(38,"Title"),c.Nb(),c.Ob(39,"input",21),c.Vb("blur",function(){return t.logValidationErrors()}),c.Nb(),c.zc(40,Ve,2,1,"small",22),c.Nb(),c.Ob(41,"div",3),c.Ob(42,"label",23),c.Bc(43,"Description"),c.Nb(),c.Jb(44,"textarea",24),c.Nb(),c.Ob(45,"div",25),c.Ob(46,"label",26),c.Bc(47,"Total Marks"),c.Nb(),c.Ob(48,"input",27),c.Vb("blur",function(){return t.logValidationErrors()}),c.Nb(),c.zc(49,Me,2,1,"small",28),c.Nb(),c.Ob(50,"div",29),c.Ob(51,"label"),c.Bc(52,"Create Assignment"),c.Nb(),c.Jb(53,"button",30),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Jb(54,"br"),c.zc(55,Ae,16,15,"p-card",31),c.Jb(56,"p-toast")),2&e&&(c.xc(c.hc(35,qe)),c.xb(3),c.zb(t.icon),c.xb(2),c.ec("formGroup",t.aForm),c.xb(5),c.ec("options",t.courselist)("showClear",!0)("ngClass",c.ic(36,ze,t.formErrors.CourseId)),c.xb(1),c.ec("ngIf",t.formErrors.CourseId),c.xb(4),c.ec("options",t.subjectlist)("showClear",!0)("ngClass",c.ic(38,ze,t.formErrors.SubjectId)),c.xb(1),c.ec("ngIf",t.formErrors.SubjectId),c.xb(4),c.ec("options",t.semesterlist)("showClear",!0)("ngClass",c.ic(40,ze,t.formErrors.Semester)),c.xb(1),c.ec("ngIf",t.formErrors.Semester),c.xb(8),c.ec("ngClass",c.ic(42,ze,t.formErrors.AssignmentDate))("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0),c.xb(1),c.ec("ngIf",t.formErrors.AssignmentDate),c.xb(4),c.ec("ngClass",c.ic(44,ze,t.formErrors.DueDate))("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0),c.xb(1),c.ec("ngIf",t.formErrors.DueDate),c.xb(4),c.ec("ngClass",c.ic(46,ze,t.formErrors.Name)),c.xb(1),c.ec("ngIf",t.formErrors.Name),c.xb(4),c.ec("rows",2)("cols",30),c.xb(4),c.ec("ngClass",c.ic(48,ze,t.formErrors.TotalMarks)),c.xb(1),c.ec("ngIf",t.formErrors.TotalMarks),c.xb(4),c.ec("disabled",t.aForm.invalid),c.xb(2),c.ec("ngForOf",t.assignmentlist))},directives:[u.a,h.o,h.j,h.e,S.a,h.i,h.c,s.i,s.k,C.b,x.a,O.a,h.a,B.a,ue.a,h.l,s.j,E.a],pipes:[s.d],styles:[""]}),e})();var Re=r("/RsI");const Le=function(){return{margin:"20px"}};function Xe(e,t){if(1&e){const e=c.Pb();c.Ob(0,"p-card",8),c.Ob(1,"div",9),c.Ob(2,"div",10),c.Bc(3),c.Nb(),c.Ob(4,"div",10),c.Bc(5),c.Nb(),c.Ob(6,"div",10),c.Bc(7),c.Nb(),c.Ob(8,"div",10),c.Bc(9),c.Yb(10,"date"),c.Nb(),c.Ob(11,"div",10),c.Bc(12),c.Yb(13,"date"),c.Nb(),c.Ob(14,"div",10),c.Bc(15),c.Yb(16,"date"),c.Nb(),c.Ob(17,"div",10),c.Bc(18," Attachment : "),c.Ob(19,"a",11),c.Bc(20,"Click here to open Attachment"),c.Nb(),c.Nb(),c.Ob(21,"div",10),c.Bc(22),c.Nb(),c.Ob(23,"div",10),c.Bc(24),c.Nb(),c.Ob(25,"div",12),c.Ob(26,"button",13),c.Vb("click",function(){c.sc(e);const r=t.$implicit;return c.Xb().MarkAssignment(r.AssignmentId,r.StudentId,r.AttachmentId)}),c.Nb(),c.Nb(),c.Nb(),c.Nb()}if(2&e){const e=t.$implicit;c.xc(c.hc(21,Le)),c.fc("header","Assignment : "+e.Name+" "+(e.datedif>0?"  (Done late)":"")),c.xb(3),c.Dc(" Student Name : ",e.StudentName," "),c.xb(2),c.Dc(" Roll No : ",e.RollNo," "),c.xb(2),c.Dc(" Description : ",e.Description," "),c.xb(2),c.Dc(" Assignment Date : ",c.ac(10,12,e.AssignmentDate,"dd/MM/yyyy")," "),c.xb(3),c.Dc(" Due Date : ",c.ac(13,15,e.DueDate,"dd/MM/yyyy")," "),c.xb(3),c.Dc(" Submitted Date : ",c.ac(16,18,e.UploadDate,"dd/MM/yyyy")," "),c.xb(4),c.fc("href","https://mycampusapp.azurewebsites.net/"+e.AttachmentUrl,c.uc),c.xb(3),c.Dc(" TotalMarks : ",e.TotalMarks," "),c.xb(2),c.Dc(" Marks Scored : ",-1==e.MarksScored?"Not Assigned":e.MarksScored," ")}}function Pe(e,t){if(1&e&&(c.Ob(0,"small",14),c.Bc(1),c.Nb()),2&e){const e=c.Xb();c.xb(1),c.Dc(" ",e.formErrors.marks,"")}}const _e=function(){return{width:"30vw"}},Ge=function(e){return{"ng-invalid ng-dirty":e}};let $e=(()=>{class e{constructor(e,t,r,s,i){this.fb=e,this.route=t,this.router=r,this.assignmentService=s,this.messageService=i,this.display=!1,this.validationMessages={marks:{required:"Marks is required"}},this.formErrors={marks:""}}ngOnInit(){this.route.paramMap.subscribe(e=>{this.Id=+e.get("id"),this.getAssignment(this.Id)}),this.sForm=this.fb.group({marks:["",h.n.required]}),this.sForm.valueChanges.subscribe(e=>{this.logValidationErrors(this.sForm)}),this.submission={AssignmentId:0,AttachmentId:0,StudentId:0,MarksScored:0}}getAssignment(e){this.assignmentService.getAssignmentById(e).subscribe(e=>this.assignmentlist=e,e=>{})}MarkAssignment(e,t,r){this.AssignmentId=e,this.StudentId=t,this.AttachmentId=r,this.display=!0}onSubmit(){this.mapFormValueToCourseModel(),this.assignmentService.updateMarks(this.submission).subscribe(e=>{this.showSuccess(e)},e=>{this.showError("Error while submitting assignment")})}mapFormValueToCourseModel(){this.submission.AssignmentId=this.AssignmentId,this.submission.StudentId=this.StudentId,this.submission.AttachmentId=this.AttachmentId,this.submission.MarksScored=this.sForm.value.marks}logValidationErrors(e=this.sForm){Object.keys(e.controls).forEach(t=>{const r=e.get(t);if(r instanceof h.d)this.logValidationErrors(r);else if(this.formErrors[t]="",r&&!r.valid&&(r.touched||r.dirty)){const e=this.validationMessages[t];for(const s in r.errors)s&&(this.formErrors[t]+=e[s]+" ")}})}showSuccess(e){this.messageService.add({severity:"success",summary:"Success",detail:e}),this.display=!1,this.sForm.reset(),this.getAssignment(this.Id)}showError(e){this.messageService.add({severity:"error",summary:"Error",detail:e})}BackToAssignment(){this.router.navigate(["/faculty/assignment"])}}return e.\u0275fac=function(t){return new(t||e)(c.Ib(h.b),c.Ib(a.a),c.Ib(a.b),c.Ib(Be.a),c.Ib(v.g))},e.\u0275cmp=c.Cb({type:e,selectors:[["app-view-submission"]],decls:13,vars:12,consts:[["pButton","","type","button","label","Back to Assignment","icon","pi pi-angle-double-left","pRipple","",1,"p-button","p-button-help","p-ml-4",3,"click"],[3,"header","style",4,"ngFor","ngForOf"],["header","Enter marks scored",3,"visible","baseZIndex","visibleChange"],[3,"formGroup","ngSubmit"],[1,"p-field"],["id","marks","type","number","aria-describedby","marks-help","min","0","autocomplete","off","pInputText","","formControlName","marks",1,"p-inputtext-sm",3,"ngClass","blur"],["id","marks-help","class","p-error",4,"ngIf"],["pButton","","type","submit","label","Submit","icon","pi pi-check-circle","pRipple","",1,"p-button","p-mr-4",3,"disabled"],[3,"header"],[1,"p-fluid","p-grid"],[1,"p-col-12","p-lg-4","p-md-6"],["target","_blank",3,"href"],[1,"p-col-12","p-lg-3","p-md-6"],["pButton","","type","button","label","Mark this Assignment","icon","pi pi-check-square","pRipple","",1,"p-button","p-button-success","p-mt-2",3,"click"],["id","marks-help",1,"p-error"]],template:function(e,t){1&e&&(c.Jb(0,"br"),c.Ob(1,"button",0),c.Vb("click",function(){return t.BackToAssignment()}),c.Nb(),c.Jb(2,"br"),c.Jb(3,"br"),c.zc(4,Xe,27,22,"p-card",1),c.Ob(5,"p-dialog",2),c.Vb("visibleChange",function(e){return t.display=e}),c.Jb(6,"br"),c.Ob(7,"Form",3),c.Vb("ngSubmit",function(){return t.onSubmit()}),c.Ob(8,"div",4),c.Ob(9,"input",5),c.Vb("blur",function(){return t.logValidationErrors()}),c.Nb(),c.zc(10,Pe,2,1,"small",6),c.Nb(),c.Jb(11,"button",7),c.Nb(),c.Nb(),c.Jb(12,"p-toast")),2&e&&(c.xb(4),c.ec("ngForOf",t.assignmentlist),c.xb(1),c.xc(c.hc(9,_e)),c.ec("visible",t.display)("baseZIndex",1e4),c.xb(2),c.ec("formGroup",t.sForm),c.xb(2),c.ec("ngClass",c.ic(10,Ge,t.formErrors.marks)),c.xb(1),c.ec("ngIf",t.formErrors.marks),c.xb(1),c.ec("disabled",t.sForm.invalid))},directives:[C.b,x.a,s.j,Re.a,h.j,h.e,h.l,h.a,B.a,h.i,h.c,s.i,s.k,E.a,u.a],pipes:[s.d],styles:[""]}),e})();var Ye=r("Dxrl"),Ue=r("Ji6n");function Ke(e,t){if(1&e&&(c.Ob(0,"small",17),c.Bc(1),c.Nb()),2&e){const e=c.Xb();c.xb(1),c.Dc(" ",e.formErrors.CourseId," ")}}function Ze(e,t){if(1&e&&(c.Ob(0,"small",18),c.Bc(1),c.Nb()),2&e){const e=c.Xb();c.xb(1),c.Dc(" ",e.formErrors.Semester," ")}}const He=function(){return{width:"auto",margin:"10px"}},Qe=function(e){return{"ng-invalid ng-dirty":e}},We=[{path:"",component:$,children:[{path:"dashboard",component:l},{path:"info",component:p},{path:"attendance",component:R},{path:"result",component:le},{path:"placement",component:Ee},{path:"assignment",component:Je},{path:"view-submission/:id",component:$e},{path:"send-notification",component:(()=>{class e{constructor(e,t,r,s,i){this.courseService=e,this.fb=t,this.messageService=r,this.notificationService=s,this._router=i,this.icon="pi pi-bell",this.validationMessages={CourseId:{required:"Course is required"},Semester:{required:"Semester is required"},Description:{required:"Description is required"}},this.formErrors={Description:"",CourseId:"",Semester:""},this.semesterlist=[{no:1},{no:2},{no:3},{no:4},{no:5},{no:6}]}ngOnInit(){this.nForm=this.fb.group({Description:[""],CourseId:["",h.n.required],Semester:["",h.n.required],allcheckbox:[!1]}),this.nForm.valueChanges.subscribe(e=>{this.logValidationErrors(this.nForm)}),this.getCourse(),this.notification={NotificationId:0,Description:null,Date:null,CourseId:0,Semester:0,FacultyId:0}}getCourse(){this.courseService.getCourse().subscribe(e=>this.courselist=e,e=>{e instanceof o.d&&401===e.status&&(localStorage.removeItem("token"),this._router.navigate(["/auth"]))})}onSubmit(){this.mapFormValueToCourseModel(),this.notificationService.addNotification(this.notification).subscribe(e=>{this.showSuccess("Notification send successfully")},e=>{console.error(e),this.showError("Error while sending notification")})}mapFormValueToCourseModel(){1==this.nForm.value.allcheckbox?(this.notification.CourseId=0,this.notification.Semester=0):(this.notification.CourseId=this.nForm.value.CourseId,this.notification.Semester=this.nForm.value.Semester),this.notification.NotificationId=0,this.notification.Date=Object(f.a)(new Date),this.notification.Description=this.nForm.value.Description,this.notification.FacultyId=+localStorage.getItem("id")}logValidationErrors(e=this.nForm){Object.keys(e.controls).forEach(t=>{const r=e.get(t);if(r instanceof h.d)this.logValidationErrors(r);else if(this.formErrors[t]="",r&&!r.valid&&(r.touched||r.dirty)){const e=this.validationMessages[t];for(const s in r.errors)s&&(this.formErrors[t]+=e[s]+" ")}})}showSuccess(e){this.messageService.add({severity:"success",summary:"Success",detail:e}),this.nForm.reset()}showError(e){this.messageService.add({severity:"error",summary:"Error",detail:e})}}return e.\u0275fac=function(t){return new(t||e)(c.Ib(I.a),c.Ib(h.b),c.Ib(v.g),c.Ib(Ye.a),c.Ib(a.b))},e.\u0275cmp=c.Cb({type:e,selectors:[["app-notification"]],decls:31,vars:21,consts:[[2,"font-size","18px","font-weight","bold","margin-right","5px"],[3,"formGroup","ngSubmit"],[1,"p-fluid","p-formgrid","p-grid"],[1,"p-field","p-col-12","p-md-3"],["for","CourseId"],["id","CourseId","aria-describedby","CourseId-help","placeholder","Select a Course","optionLabel","CourseName","optionValue","CourseId","formControlName","CourseId",3,"options","showClear","ngClass","blur"],["id","CourseId-help","class","p-error",4,"ngIf"],["for","Semester"],["id","Semester","aria-describedby","Semester-help","placeholder","Select Semester","optionLabel","no","optionValue","no","formControlName","Semester",3,"options","showClear","ngClass","blur"],["id","Semester-help","class","p-error",4,"ngIf"],[1,"p-field","p-col-12","p-md-6"],["for","Description"],["id","Description","pInputTextarea","","autoResize","autoResize","formControlName","Description",3,"rows","cols"],["for","binary"],[1,"p-field-checkbox"],["formControlName","allcheckbox","binary","true","inputId","binary"],["pButton","","type","submit","label","Send Notification","icon","pi pi-bell","pRipple","",1,"p-button-raised","p-button-rounded","p-button-danger","p-mr-4",3,"disabled"],["id","CourseId-help",1,"p-error"],["id","Semester-help",1,"p-error"]],template:function(e,t){1&e&&(c.Ob(0,"p-card"),c.Ob(1,"div"),c.Ob(2,"h2"),c.Jb(3,"i",0),c.Bc(4," Send Notification "),c.Nb(),c.Nb(),c.Ob(5,"form",1),c.Vb("ngSubmit",function(){return t.onSubmit()}),c.Ob(6,"div",2),c.Ob(7,"div",3),c.Ob(8,"label",4),c.Bc(9,"Course"),c.Nb(),c.Ob(10,"p-dropdown",5),c.Vb("blur",function(){return t.logValidationErrors()}),c.Nb(),c.zc(11,Ke,2,1,"small",6),c.Nb(),c.Ob(12,"div",3),c.Ob(13,"label",7),c.Bc(14,"Semester"),c.Nb(),c.Ob(15,"p-dropdown",8),c.Vb("blur",function(){return t.logValidationErrors()}),c.Nb(),c.zc(16,Ze,2,1,"small",9),c.Nb(),c.Jb(17,"div",10),c.Ob(18,"div",10),c.Ob(19,"label",11),c.Bc(20,"Description"),c.Nb(),c.Jb(21,"textarea",12),c.Nb(),c.Jb(22,"div",10),c.Ob(23,"div",3),c.Ob(24,"label",13),c.Bc(25,"Send to all Department"),c.Nb(),c.Ob(26,"div",14),c.Jb(27,"p-checkbox",15),c.Nb(),c.Nb(),c.Ob(28,"div",3),c.Jb(29,"button",16),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Jb(30,"p-toast")),2&e&&(c.xc(c.hc(16,He)),c.xb(3),c.zb(t.icon),c.xb(2),c.ec("formGroup",t.nForm),c.xb(5),c.ec("options",t.courselist)("showClear",!0)("ngClass",c.ic(17,Qe,t.formErrors.CourseId)),c.xb(1),c.ec("ngIf",t.formErrors.CourseId),c.xb(4),c.ec("options",t.semesterlist)("showClear",!0)("ngClass",c.ic(19,Qe,t.formErrors.Semester)),c.xb(1),c.ec("ngIf",t.formErrors.Semester),c.xb(5),c.ec("rows",2)("cols",30),c.xb(8),c.ec("disabled",t.nForm.invalid))},directives:[u.a,h.o,h.j,h.e,S.a,h.i,h.c,s.i,s.k,h.a,ue.a,Ue.a,C.b,x.a,E.a],styles:[""]}),e})()}]}];let et=(()=>{class e{}return e.\u0275mod=c.Gb({type:e}),e.\u0275inj=c.Fb({factory:function(t){return new(t||e)},imports:[[a.e.forChild(We)],a.e]}),e})(),tt=(()=>{class e{}return e.\u0275mod=c.Gb({type:e}),e.\u0275inj=c.Fb({factory:function(t){return new(t||e)},providers:[I.a,v.g,v.a,{provide:o.a,useClass:n.a,multi:!0}],imports:[[s.b,et,i.a]]}),e})()}}]);